<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="generator" content="Asciidoctor 0.1.4"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Project FAQs</title> <style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }

</style> <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css"> <style>
/* Foundation stylesheet for CodeRay (to match GitHub theme) | MIT License | http://foundation.zurb.com */
table.CodeRay { border-collapse: collapse; padding: 2px; margin-bottom: 0; border: 0; background: transparent; }
table.CodeRay td { padding: 0 .5em; vertical-align: top; }
table.CodeRay td.line-numbers { text-align: right; color: #999; border-right: 1px solid #e5e5e5; padding-left: 0; }
span.line-numbers { border-right: 1px solid #E5E5E5; color: #999; display: inline-block; margin-right: 0.5em; padding-right: 0.5em; }
.CodeRay td.line-numbers strong, .CodeRay span.line-numbers strong { font-weight: normal; }
.CodeRay .debug { color: white !important; background: blue !important; }
.CodeRay .annotation { color: #007; }
.CodeRay .attribute-name { color: #f08; }
.CodeRay .attribute-value { color: #700; }
.CodeRay .binary { color: #509; }
.CodeRay .comment  { color: #999; font-style: italic; }
.CodeRay .char { color: #04D; }
.CodeRay .char .content { color: #04D; }
.CodeRay .char .delimiter { color: #039; }
.CodeRay .class { color: #458; }
.CodeRay .complex { color: #A08; }
.CodeRay .constant { color: teal; }
.CodeRay .color { color: #0A0; }
.CodeRay .class-variable { color: #369; }
.CodeRay .decorator { color: #B0B; }
.CodeRay .definition { color: #099; }
.CodeRay .directive { color: #088; }
.CodeRay .delimiter { color: black; }
.CodeRay .doc { color: #970; }
.CodeRay .doctype { color: #34b; }
.CodeRay .doc-string { color: #D42; }
.CodeRay .escape  { color: #666; }
.CodeRay .entity { color: #800; }
.CodeRay .error { color: #808; }
.CodeRay .exception { color: #C00; }
.CodeRay .filename { color: #099; }
.CodeRay .function { color: #900; }
.CodeRay .global-variable { color: teal; }
.CodeRay .hex { color: #058; }
.CodeRay .integer  { color: #099; }
.CodeRay .include { color: #B44; }
.CodeRay .inline { color: black; }
.CodeRay .inline .inline { background: #ccc; }
.CodeRay .inline .inline .inline { background: #bbb; }
.CodeRay .inline .inline-delimiter { color: #D14; }
.CodeRay .inline-delimiter { color: #D14; }
.CodeRay .important { color: #f00; }
.CodeRay .interpreted { color: #B2B; }
.CodeRay .instance-variable { color: teal; }
.CodeRay .label { color: #970; }
.CodeRay .local-variable { color: #963; }
.CodeRay .octal { color: #40E; }
.CodeRay .predefined { color: #369; }
.CodeRay .preprocessor { color: #579; }
.CodeRay .pseudo-class { color: #00C; }
.CodeRay .predefined-type { color: #074; }
.CodeRay .reserved, .keyword  { color: #000; }
.CodeRay .key { color: #808; }
.CodeRay .key .delimiter { color: #606; }
.CodeRay .key .char { color: #80f; }
.CodeRay .value { color: #088; }
.CodeRay .regexp { background-color: #fff0ff; }
.CodeRay .regexp .content { color: #808; }
.CodeRay .regexp .delimiter { color: #404; }
.CodeRay .regexp .modifier { color: #C2C; }
.CodeRay .regexp .function  { color: #404; font-weight: bold; }
.CodeRay .string { color: #D20; }
.CodeRay .string .string { }
.CodeRay .string .string .string { background-color: #ffd0d0; }
.CodeRay .string .content { color: #D14; }
.CodeRay .string .char { color: #D14; }
.CodeRay .string .delimiter { color: #D14; }
.CodeRay .shell { color: #D14; }
.CodeRay .shell .content { }
.CodeRay .shell .delimiter { color: #D14; }
.CodeRay .symbol { color: #990073; }
.CodeRay .symbol .content { color: #A60; }
.CodeRay .symbol .delimiter { color: #630; }
.CodeRay .tag, .CodeRay .attribute-name { color: #070; }
.CodeRay .tag-special { color: #D70; }
.CodeRay .type { color: #339; }
.CodeRay .variable  { color: #036; }
.CodeRay .insert { background: #afa; }
.CodeRay .delete { background: #faa; }
.CodeRay .change { color: #aaf; background: #007; }
.CodeRay .head { color: #f8f; background: #505; }
.CodeRay .insert .insert { color: #080; }
.CodeRay .delete .delete { color: #800; }
.CodeRay .change .change { color: #66f; }
.CodeRay .head .head { color: #f4f; }

</style> </head> <body class="book toc2 toc-left"> <div id="header"> <div id="toc" class="toc2"> <div id="toctitle">Table of Contents</div> <ul class="sectlevel1"> <li><a href="#sid-68354929_FrequentlyAskedQuestions-ProjectFAQs">1. Project FAQs</a></li> <li><a href="#sid-68354929_FrequentlyAskedQuestions-TechnicalFAQs">2. Technical FAQs</a></li> <li><a href="#sid-68354930">3. Project Evaluation FAQs</a></li> <li> <ul class="sectlevel2"> <li><a href="#sid-68354932">3.1. What is Infinispan?</a></li> <li><a href="#sid-68354941">3.2. What would I use Infinispan for?</a></li> <li><a href="#sid-68354933">3.3. How is Infinispan related to JBoss Cache?</a></li> <li><a href="#sid-68354934">3.4. What version of Java does Infinispan need to run? Does Infinispan need an application server to run?</a></li> <li><a href="#sid-68354935">3.5. Will there be a POJO Cache replacement in Infinispan?</a></li> <li><a href="#sid-68354936">3.6. How come Infinispan&#8217;s first release is 4.0.0?  This sounds weird!</a></li> <li><a href="#sid-68354937">3.7. What should I use, JBoss Cache or Infinispan?</a></li> <li><a href="#sid-68354938">3.8. Where can I get more information on Infinispan?</a></li> <li><a href="#sid-68354939">3.9. How is this related to JSR 107, the JCACHE specification?</a></li> <li><a href="#sid-68354940">3.10. Can I use Infinispan with Hibernate?</a></li> </ul> </li> <li><a href="#sid-68354942">4. Technical FAQs</a></li> <li> <ul class="sectlevel2"> <li><a href="#sid-68354943">4.1. General FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354944">4.1.1. What APIs does Infinispan offer?</a></li> <li><a href="#sid-68354945">4.1.2. Which JVMs (JDKs) does Infinispan work with?</a></li> <li><a href="#sid-68354946">4.1.3. Is Infinispan&#8217;s configuration compatible with JBoss Cache?</a></li> <li><a href="#sid-68354947">4.1.4. Grouping API vs Key Affinity Service</a></li> <li><a href="#sid-68454081">4.1.5. Does Infinispan store data by value or by reference?</a></li> </ul> </li> <li><a href="#sid-68354948">4.2. Cache Loaders and Cache Store FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354949">4.2.1. Cache loaders and cache stores - what&#8217;s the difference?</a></li> <li><a href="#sid-68354952">4.2.2. Are modifications to asynchronous cache stores coalesced or aggregated?</a></li> <li><a href="#sid-68354950">4.2.3. In JBoss Cache, the JDBC and File CacheLoaders had restrictions such as only being able to use Strings in Fqns. Is this still the case in Infinispan?</a></li> <li><a href="#sid-68354953">4.2.4. What does the passivation flag do?</a></li> <li><a href="#sid-68354951">4.2.5. What if I get IOException "Unsupported protocol version 48" with JdbcStringBasedCacheStore?</a></li> <li><a href="#sid-68354955">4.2.6. Is there any way I can boost cache store&#8217;s performance? SKIP_CACHE_LOAD</a></li> </ul> </li> <li><a href="#sid-68354956">4.3. Locking FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354959">4.3.1. Does Infinispan support distributed eager locking?</a></li> <li><a href="#sid-68354960">4.3.2. How does Infinispan support explicit eager locking?</a></li> <li><a href="#sid-68354961">4.3.3. How does Infinispan support implicit eager locking?</a></li> <li><a href="#sid-68354957">4.3.4. JBoss Cache exposed several different locking schemes - pessimistic, optimistic and MVCC.  I don&#8217;t see a way to specify locking scheme in Infinispan.  Why is this?</a></li> <li><a href="#sid-68354958">4.3.5. What isolation levels does Infinispan support?</a></li> </ul> </li> <li><a href="#sid-68354962">4.4. Transaction FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354963">4.4.1. When using Atomikos transaction manager, distributed caches are not distributing data, what is the problem?</a></li> </ul> </li> <li><a href="#sid-68354964">4.5. Eviction and Expiration FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354968">4.5.1. Cache&#8217;s number of entries never reaches configured maxEntries, why is that?</a></li> <li><a href="#sid-68354965">4.5.2. Expiration does not work, what is the problem?</a></li> <li><a href="#sid-68354967">4.5.3. Why is cache size sometimes even higher than specified maxEntries of the eviction configuration element?</a></li> <li><a href="#sid-68354966">4.5.4. Why isn&#8217;t there a notification for the expiration of a cache entry?</a></li> </ul> </li> <li><a href="#sid-68354969">4.6. Cache Manager FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354971">4.6.1. Can I create caches using different cache modes using the same cache manager?</a></li> <li><a href="#sid-68354972">4.6.2. Can transactions span different Cache instances from the same cache manager?</a></li> <li><a href="#sid-68354973">4.6.3. How does multi-tenancy work?</a></li> <li><a href="#sid-68354970">4.6.4. Infinispan allows me to create several Caches from a single CacheManager.  Are there any reasons to create separate CacheManagers?</a></li> </ul> </li> <li><a href="#sid-68354974">4.7. Cache Mode FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354975">4.7.1. What is the difference between a replicated cache and a distributed cache?</a></li> <li><a href="#sid-68354977">4.7.2. Does DIST support both synchronous and asynchronous communications?</a></li> <li><a href="#sid-68354982">4.7.3. I have caches configured with asynchronous replication or distribution, but these caches appear to be behaving synchronously (waiting for responses), what is going on?</a></li> <li><a href="#sid-68354979">4.7.4. I notice that when using DIST, the cache does a remote get before a write command. Why is this?</a></li> <li><a href="#sid-68354981">4.7.5. I use a clustered cache. I want the guarantees of synchronous replication with the parallelism of asynchronous replication. What can I do?</a></li> <li><a href="#sid-68354978">4.7.6. Is buddy replication supported?</a></li> <li><a href="#sid-68354980">4.7.7. What is the L1 cache?</a></li> <li><a href="#sid-68354983">4.7.8. What consistency guarantees do I have with different Asynchronous processing settings ?</a></li> </ul> </li> <li><a href="#sid-68354984">4.8. Listener FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354985">4.8.1. In a cache entry modified listener, can the modified value be retrieved via Cache.get() when isPre=false?</a></li> <li><a href="#sid-68354986">4.8.2. When annotating a method with CacheEntryCreated, how do I retrieve the value of the cache entry added?</a></li> </ul> </li> <li><a href="#sid-68354987">4.9. Cloud FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354988">4.9.1. How do you make Infinispan send replication traffic over a specific network when you don&#8217;t know the IP address?</a></li> </ul> </li> <li><a href="#sid-68354989">4.10. Demo FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354990">4.10.1. When using the GUI Demo, I&#8217;ve just put an entry in the cache with lifespan of -1. Why do I see it as having a lifespan of 60,000?</a></li> </ul> </li> <li><a href="#sid-68354991">4.11. Query Module FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354992">4.11.1. When I run an application based on the Query module, I get a ClassNotFoundException for org.slf4j.impl.StaticLoggerBinder. How do I solve it?</a></li> </ul> </li> <li><a href="#sid-68354993">4.12. JBoss Application Server Integration FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354995">4.12.1. Can I run my own Infinispan cache within JBoss Application Server 5 or 4?</a></li> <li><a href="#sid-68354994">4.12.2. Can I run my own Infinispan cache within JBoss Application Server 6?</a></li> </ul> </li> <li><a href="#sid-68354996">4.13. Logging FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354997">4.13.1. How can I enable logging?</a></li> </ul> </li> <li><a href="#sid-68354998">4.14. Third Party Container FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68354999">4.14.1. Can I use Infinispan on Google App Engine for Java?</a></li> <li><a href="#sid-68355000">4.14.2. When running on Glassfish or Apache, creating a cache throws an exception saying "Unable to construct a GlobalComponentRegistry", what is it wrong?</a></li> </ul> </li> <li><a href="#sid-68355001">4.15. Language FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68355002">4.15.1. Can I use Infinispan with Groovy? What about Jython, Clojure, JRuby or Scala etc.?</a></li> </ul> </li> <li><a href="#sid-68355003">4.16. Marshalling &amp; Unmarshalling</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68355009">4.16.1. Best practices implementing java.io.Externalizable</a></li> <li><a href="#sid-68355005">4.16.2. Does Infinispan support storing Non-Serializable objects?</a></li> <li><a href="#sid-68355010">4.16.3. Do Externalizer implementations need to access internal Externalizer implementations?</a></li> <li><a href="#sid-68355006">4.16.4. Do I need to register an application cacheloader when using an isolated deployment?</a></li> <li><a href="#sid-68355007">4.16.5. During state transfer, the state receiver logs an EOFException when applying state saying "Read past end of file". Should I worry about this?</a></li> <li><a href="#sid-68355004">4.16.6. How do I get more information on marshalling &amp; unmarshalling exceptions?</a></li> <li><a href="#sid-68355008">4.16.7. Why am I getting invalid data passed to readExternal?</a></li> </ul> </li> <li><a href="#sid-68355011">4.17. Tuning FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68355012">4.17.1. When running Infinispan under load, I see RejectedExecutionException, how can I fix it?</a></li> </ul> </li> <li><a href="#sid-68355013">4.18. JNDI FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68355014">4.18.1. Can I bind Cache or CacheManager to JNDI?</a></li> </ul> </li> <li><a href="#sid-68355015">4.19. Hibernate 2nd Level Cache FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68355019">4.19.1. Can I use Infinispan as a remote JPA or Hibernate second level cache?</a></li> <li><a href="#sid-68355018">4.19.2. I&#8217;m adding the Infinispan 2nd level cache provider to existing servers that already use JGroups. Should I set Infinispan to use the same JGroups cluster, or should I use two separate cluster names?</a></li> <li><a href="#sid-68355016">4.19.3. Is it possible to use the Infinispan 2nd level cache outside of a J2EE server, and if so how do I set up the transaction manager lookup?</a></li> <li><a href="#sid-68355017">4.19.4. What are the pitfalls of not using a non-JTA transaction factory such as JDBCTransactionFactory with Hibernate when Infinispan is used as 2nd level cache provider?</a></li> </ul> </li> <li><a href="#sid-68355020">4.20. Cache Server FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68355021">4.20.1. After running a Hot Rod server for a while, I get a NullPointerException in HotRodEncoder.getTopologyResponse(), how can I get around it?</a></li> <li><a href="#sid-68355023">4.20.2. Is there a way to do a Bulk Get on a remote cache?</a></li> <li><a href="#sid-68355022">4.20.3. What is the startServer.sh script used for? What is the startServer.bat script used for?</a></li> </ul> </li> <li><a href="#sid-68355024">4.21. Debugging FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68355025">4.21.1. How can I get Infinispan to show the full byte array? The log only shows partial contents of byte arrays&#8230;</a></li> </ul> </li> <li><a href="#sid-68355026">4.22. Clustering Transport FAQs</a></li> <li> <ul class="sectlevel3"> <li><a href="#sid-68355027">4.22.1. How do I retrieve the clustering physical address?</a></li> </ul> </li> </ul> </li> </ul> </div> </div> <div id="content"> <div class="sect1"> <h2 id="sid-68354929_FrequentlyAskedQuestions-ProjectFAQs"><a class="anchor" href="#sid-68354929_FrequentlyAskedQuestions-ProjectFAQs"></a>1. Project FAQs</h2> <div class="sectionbody"> </div> </div> <div class="sect1"> <h2 id="sid-68354929_FrequentlyAskedQuestions-TechnicalFAQs"><a class="anchor" href="#sid-68354929_FrequentlyAskedQuestions-TechnicalFAQs"></a>2. Technical FAQs</h2> <div class="sectionbody"> <div class="paragraph"> <p>These are questions pertaining to the Infinispan code.  Typically, most of these questions would only be relevant to specific versions of Infinispan.</p> </div> </div> </div> <div class="sect1"> <h2 id="sid-68354930"><a class="anchor" href="#sid-68354930"></a>3. Project Evaluation FAQs</h2> <div class="sectionbody"> <div class="ulist"> <ul> <li> <p><a href="#sid-68354932">What is Infinispan?</a></p> </li> <li> <p><a href="#sid-68354941">What would I use Infinispan for?</a></p> </li> <li> <p><a href="#sid-68354933">How is Infinispan related to JBoss Cache?</a></p> </li> <li> <p><a href="#sid-68354934">What version of Java does Infinispan need to run? Does Infinispan need an application server to run?</a></p> </li> <li> <p><a href="#sid-68354935">Will there be a POJO Cache replacement in Infinispan?</a></p> </li> <li> <p><a href="#sid-68354936">How come Infinispan&#8217;s first release is 4.0.0?  This sounds weird!</a></p> </li> <li> <p><a href="#sid-68354937">What should I use, JBoss Cache or Infinispan?</a></p> </li> <li> <p><a href="#sid-68354938">Where can I get more information on Infinispan?</a></p> </li> <li> <p><a href="#sid-68354939">How is this related to JSR 107, the JCACHE specification?</a></p> </li> <li> <p><a href="#sid-68354940">Can I use Infinispan with Hibernate?</a></p> </li> </ul> </div> <div class="sect2"> <h3 id="sid-68354932"><a class="anchor" href="#sid-68354932"></a>3.1. What is Infinispan?</h3> <div class="literalblock"> <div class="content"> <pre>Infinispan is an open source data grid platform. It exposes a link:$$http://jcp.org/en/jsr/detail?id=107$$[JSR-107] compatible link:$$http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/Cache.html$$[Cache] interface (which in turn extends java.util.Map ) in which you can store objects. While Inﬁnispan can be run in local mode, its real value is in distributed mode where caches cluster together and expose a large memory heap. Distributed mode is more powerful than simple replication since each data entry is spread out only to a ﬁxed number of replicas thus providing resilience to server failures as well as scalability since the work done to store each entry is constant in relation to a cluster size.</pre> </div> </div> <div class="paragraph"> <p>So, why would you use it? Infinispan offers:</p> </div> <div class="ulist"> <ul> <li> <p><em>Massive heap</em> and <em>high availability</em> - If you have 100 blade servers, and each node has 2GB of space to dedicate to a replicated cache, you end up with 2 GB of total data. Every server is just a copy. On the other hand, with a distributed grid - assuming you want 1 copy per data item - you get a 100 GB memory backed virtual heap that is efficiently accessible from anywhere in the grid. If a server fails, the grid simply creates new copies of the lost data, and puts them on other servers. Applications looking for ultimate performance are no longer forced to delegate the majority of their data lookups to a large single database server - the bottleneck that exists in over 80% of enterprise applications! </p> </li> <li> <p><em>Scalability</em> - Since data is evenly distributed there is essentially no major limit to the size of the grid, except group communication on the network - which is minimised to just discovery of new nodes. All data access patterns use peer-to-peer communication where nodes directly speak to each other, which scales very well. Infinispan does not require entire infrastructure shutdown to allow scaling up or down. Simply add/remove machines to your cluster without incurring any down-time. </p> </li> <li> <p><em>Data distribution</em> - Infinispan uses consistent hash algorithm to determine where keys should be located in the cluster.  Consistent hashing allows for cheap, fast and above all, deterministic location of keys with no need for further metadata or network traffic. The goal of data distribution is to maintain enough copies of state in the cluster so it can be durable and fault tolerant, but not too many copies to prevent Infinispan from being scalable.</p> </li> <li> <p><em>Persistence</em> - Inﬁnispan exposes a CacheStore interface, and several high-performance implementations - including JDBC cache stores, ﬁlesystem-based cache stores, Amazon S3 cache stores, etc.  CacheStores can be used for "warm starts", or simply to ensure data in the grid survives complete grid restarts, or even to overﬂow to disk if you really do run out of memory.</p> </li> <li> <p><em>Language bindings</em> (PHP, Python, Ruby, C, etc.) - Infinispan offers support for both the popular memcached protocol - with existing clients for almost every popular programming language - as well as an optimised Infinispan-specific protocol called HotRod. This means that Infinispan is not just useful to Java. Any major website or application that wants to take advantage of a fast data grid will be able to do so.</p> </li> <li> <p><em>Management</em> - When you start thinking about running a grid on several hundred servers, management is no longer an extra, it becomes a necessity. The preferred way to manage multiple Infinispan instances spread accross different servers is to use <a href="http://rhq.org">RHQ</a> which is JBoss' enterprise management solution. Thanks to RHQ&#8217;s agent and auto discovery capabilities, monitoring both Cache Manager and Cache instances is a very simple.</p> </li> <li> <p><em>Support for Compute Grids</em> - Infinispan 5 adds the ability to pass a Runnable around the grid. This allows you to push complex processing towards the server where data is local, and pull back results using a Future . This map/reduce style paradigm is common in applications where a large amount of data is needed to compute relatively small results.</p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="sid-68354941"><a class="anchor" href="#sid-68354941"></a>3.2. What would I use Infinispan for?</h3> <div class="literalblock"> <div class="content"> <pre>Infinispan's link:$$http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/Cache.html$$[org.infinispan.Cache] is a simple, flat data structure that can optionally include characteristics such as distribution, eviction, link:$$http://en.wikipedia.org/wiki/Java_Transaction_API$$[JTA] compatibility.</pre> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354933"><a class="anchor" href="#sid-68354933"></a>3.3. How is Infinispan related to JBoss Cache?</h3> <div class="literalblock"> <div class="content"> <pre>Certain design ideas and indeed some code have been borrowed from link:$$http://www.jbosscache.org$$[JBoss Cache] 3.x, however JBoss Cache is in no way a dependency.  Infinispan is a complete, separate and standalone project.  Some may consider this a fork, but the people behind Infinispan and JBoss Cache see it as an evolution, since all future effort will be on Infinispan and not JBoss Cache.</pre> </div> </div> <div class="paragraph"> <p>The current release of JBoss Cache, 3.2.3, is considered stable enough.  No new features will be added to JBoss Cache or POJO Cache, although critical fixes will still be addressed.  Consider both JBoss Cache and POJO Cache to be in maintenance mode.</p> </div> <div class="paragraph"> <p>So, why not just call it JBoss Cache 4?. Several reasons.  Binary and even API compatibility with older JBoss Cache releases is no longer maintained, and the new API is simpler and easier to use.  Also, the internal data structure used is not compatible with JBoss Cache.</p> </div> </div> <div class="sect2"> <h3 id="sid-68354934"><a class="anchor" href="#sid-68354934"></a>3.4. What version of Java does Infinispan need to run? Does Infinispan need an application server to run?</h3> <div class="literalblock"> <div class="content"> <pre>All that is needed is a Java 6.0 compatible JVM. An application server is _not_ a requirement.</pre> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354935"><a class="anchor" href="#sid-68354935"></a>3.5. Will there be a POJO Cache replacement in Infinispan?</h3> <div class="literalblock"> <div class="content"> <pre>Yes, and this is called link:$$http://www.hibernate.org/subprojects/ogm.html$$[Hibernate OGM] .</pre> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354936"><a class="anchor" href="#sid-68354936"></a>3.6. How come Infinispan&#8217;s first release is 4.0.0?  This sounds weird!</h3> <div class="paragraph"> <p>We didn&#8217;t want to release Infinispan as a 1.0, as in all fairness it is not a virgin codebase.  A lot of the code, designs and ideas in Infinispan are from JBoss Cache, and has been tried and tested, proven in high stress environments.  Infinispan should thus be viewed as a mature and stable platform and not a new, experimental one.</p> </div> </div> <div class="sect2"> <h3 id="sid-68354937"><a class="anchor" href="#sid-68354937"></a>3.7. What should I use, JBoss Cache or Infinispan?</h3> <div class="paragraph"> <p>If you are starting a new project, by all means use Infinispan.  If you already use JBoss Cache, consider upgrading to Infinispan as this is where most of our focus and efforts will be.  There is a compatibility layer to help people migrate, although we recommend only using this if you (a) absolutely need a tree structure, or (b) only for a short time as a stepping stone.  You will find that Infinispan&#8217;s Map based API performs much better.  In addition, we plan to provide migration guides and configuration conversion tools.</p> </div> </div> <div class="sect2"> <h3 id="sid-68354938"><a class="anchor" href="#sid-68354938"></a>3.8. Where can I get more information on Infinispan?</h3> <div class="literalblock"> <div class="content"> <pre>The link:$$http://www.jboss.org/infinispan$$[Infinispan project page] is your best place to start things off, whether you are interested in using Infinispan in your work or are interested in collaborating on and contributing to Infinispan.</pre> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354939"><a class="anchor" href="#sid-68354939"></a>3.9. How is this related to JSR 107, the JCACHE specification?</h3> <div class="literalblock"> <div class="content"> <pre>link:$$http://jcp.org/en/jsr/detail?id=107$$[JSR 107] is not complete, but Infinispan's primary API is as close as possible to JSR 107's javax.cache.Cache interface.  The goal is once JSR 107 is complete, the org.infinispan.Cache interface would extend javax.cache.Cache .  The key thing to note is that just like javax.cache.Cache , org.infinispan.Cache looks just like a java.util.concurrent.ConcurrentMap which would make migration between JSR 107 compliant data structures simple.</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>link:$$http://community.jboss.org/people/manik$$[Manik Surtani] , who is project lead on Infinispan, and link:$$http://in.relation.to/Bloggers/Pete$$[Pete Muir] are on the JSR 107 expert group.</pre> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354940"><a class="anchor" href="#sid-68354940"></a>3.10. Can I use Infinispan with Hibernate?</h3> <div class="paragraph"> <p>Yes, you can combine one or more of these integrations in the same application:</p> </div> <div class="ulist"> <ul> <li> <p><em>Caching database access</em> : Hibernate can cache frequently loaded entities and queries in Infinispan, taking advantage of state of the art eviction algorithms, and clustering if needed but it provides a good performance boost in non-clustered deployments too. See <a href="https://docs.jboss.org/author/pages/viewpage.action?pageId=3737110">Using Infinispan as JPA/Hibernate Second Level Cache Provider</a> for details on how to do this.</p> </li> <li> <p><em>Storing Lucene indexes</em> : When using Hibernate Search to provide full-text capabilities to your Hibernate/JPA enabled application, you need to store an Apache Lucene index separately from the database. You can store the index in Infinispan: this is ideal for clustered applications since it&#8217;s otherwise tricky to share the index with correct locking on shared file systems, but is an interesting option for non-clustered deployments too as it can combine the benefits of in-memory performance with reliability and write-through to cloud storage backends like S3, or the Hibernate database itself. See <a href="http://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#infinispan-directories">Infinispan Directory Configuration</a> in the Hibernate Search reference documentation for the integration details, or learn more about it at <a href="#sid-68355039">[sid-68355039]</a> .</p> </li> <li> <p><em>Using Infinispan as a database replacement</em> : using the experimental Hibernate Object/Grid Mapper (OGM) you can remove the database and store your entities and relations in the grid directly, interacting with it through the well known JPA(2) interface, with some limitations in the query capabilities. For more details see <a href="http://www.hibernate.org/subprojects/ogm.html">Hibernate Object/Grid Mapper (OGM)</a> .</p> </li> <li> <p><em>Using full-text queries on Infinispan</em> : If you liked the powerful full-text and data mining capabilities of Hibernate Search, but don&#8217;t need JPA or a database, you can use the indexing and query engine only: the Infinispan Query module reuses Hibernate Search internally, depending on some Hibernate libraries but exposing the Search capabilities only. See <a href="https://docs.jboss.org/author/pages/viewpage.action?pageId=3737030">Querying Infinispan</a> .</p> </li> </ul> </div> </div> </div> </div> <div class="sect1"> <h2 id="sid-68354942"><a class="anchor" href="#sid-68354942"></a>4. Technical FAQs</h2> <div class="sectionbody"> <div class="ulist"> <ul> <li> <p><a href="#sid-68354943">General FAQs</a></p> </li> <li> <p><a href="#sid-68354944">What APIs does Infinispan offer?</a></p> </li> <li> <p><a href="#sid-68354945">Which JVMs (JDKs) does Infinispan work with?</a></p> </li> <li> <p><a href="#sid-68354946">Is Infinispan&#8217;s configuration compatible with JBoss Cache?</a></p> </li> <li> <p><a href="#sid-68354947">Grouping API vs Key Affinity Service</a></p> </li> <li> <p><a href="#sid-68454081">Does Infinispan store data by value or by reference?</a></p> </li> <li> <p><a href="#sid-68354948">Cache Loaders and Cache Store FAQs</a></p> </li> <li> <p><a href="#sid-68354949">Cache loaders and cache stores - what&#8217;s the difference?</a></p> </li> <li> <p><a href="#sid-68354952">Are modifications to asynchronous cache stores coalesced or aggregated?</a></p> </li> <li> <p><a href="#sid-68354950">In JBoss Cache, the JDBC and File CacheLoaders had restrictions such as only being able to use Strings in Fqns. Is this still the case in Infinispan?</a></p> </li> <li> <p><a href="#sid-68354953">What does the passivation flag do?</a></p> </li> <li> <p><a href="#sid-68354951">What if I get IOException "Unsupported protocol version 48" with JdbcStringBasedCacheStore?</a></p> </li> <li> <p><a href="#sid-68354955">Is there any way I can boost cache store&#8217;s performance? SKIP_CACHE_LOAD</a></p> </li> <li> <p><a href="#sid-68354956">Locking FAQs</a></p> </li> <li> <p><a href="#sid-68354959">Does Infinispan support distributed eager locking?</a></p> </li> <li> <p><a href="#sid-68354960">How does Infinispan support explicit eager locking?</a></p> </li> <li> <p><a href="#sid-68354961">How does Infinispan support implicit eager locking?</a></p> </li> <li> <p><a href="#sid-68354957">JBoss Cache exposed several different locking schemes - pessimistic, optimistic and MVCC.  I don&#8217;t see a way to specify locking scheme in Infinispan.  Why is this?</a></p> </li> <li> <p><a href="#sid-68354958">What isolation levels does Infinispan support?</a></p> </li> <li> <p><a href="#sid-68354962">Transaction FAQs</a></p> </li> <li> <p><a href="#sid-68354963">When using Atomikos transaction manager, distributed caches are not distributing data, what is the problem?</a></p> </li> <li> <p><a href="#sid-68354964">Eviction and Expiration FAQs</a></p> </li> <li> <p><a href="#sid-68354968">Cache&#8217;s number of entries never reaches configured maxEntries, why is that?</a></p> </li> <li> <p><a href="#sid-68354965">Expiration does not work, what is the problem?</a></p> </li> <li> <p><a href="#sid-68354967">Why is cache size sometimes even higher than specified maxEntries of the eviction configuration element?</a></p> </li> <li> <p><a href="#sid-68354966">Why isn&#8217;t there a notification for the expiration of a cache entry?</a></p> </li> <li> <p><a href="#sid-68354969">Cache Manager FAQs</a></p> </li> <li> <p><a href="#sid-68354971">Can I create caches using different cache modes using the same cache manager?</a></p> </li> <li> <p><a href="#sid-68354972">Can transactions span different Cache instances from the same cache manager?</a></p> </li> <li> <p><a href="#sid-68354973">How does multi-tenancy work?</a></p> </li> <li> <p><a href="#sid-68354970">Infinispan allows me to create several Caches from a single CacheManager.  Are there any reasons to create separate CacheManagers?</a></p> </li> <li> <p><a href="#sid-68354974">Cache Mode FAQs</a></p> </li> <li> <p><a href="#sid-68354975">What is the difference between a replicated cache and a distributed cache?</a></p> </li> <li> <p><a href="#sid-68354977">Does DIST support both synchronous and asynchronous communications?</a></p> </li> <li> <p><a href="#sid-68354982">I have caches configured with asynchronous replication or distribution, but these caches appear to be behaving synchronously (waiting for responses), what is going on?</a></p> </li> <li> <p><a href="#sid-68354979">I notice that when using DIST, the cache does a remote get before a write command. Why is this?</a></p> </li> <li> <p><a href="#sid-68354981">I use a clustered cache. I want the guarantees of synchronous replication with the parallelism of asynchronous replication. What can I do?</a></p> </li> <li> <p><a href="#sid-68354978">Is buddy replication supported?</a></p> </li> <li> <p><a href="#sid-68354980">What is the L1 cache?</a></p> </li> <li> <p><a href="#sid-68354983">What consistency guarantees do I have with different Asynchronous processing settings ?</a></p> </li> <li> <p><a href="#sid-68354984">Listener FAQs</a></p> </li> <li> <p><a href="#sid-68354985">In a cache entry modified listener, can the modified value be retrieved via Cache.get() when isPre=false?</a></p> </li> <li> <p><a href="#sid-68354986">When annotating a method with CacheEntryCreated, how do I retrieve the value of the cache entry added?</a></p> </li> <li> <p><a href="#sid-68354987">Cloud FAQs</a></p> </li> <li> <p><a href="#sid-68354988">How do you make Infinispan send replication traffic over a specific network when you don&#8217;t know the IP address?</a></p> </li> <li> <p><a href="#sid-68354989">Demo FAQs</a></p> </li> <li> <p><a href="#sid-68354990">When using the GUI Demo, I&#8217;ve just put an entry in the cache with lifespan of -1. Why do I see it as having a lifespan of 60,000?</a></p> </li> <li> <p><a href="#sid-68354991">Query Module FAQs</a></p> </li> <li> <p><a href="#sid-68354992">When I run an application based on the Query module, I get a ClassNotFoundException for org.slf4j.impl.StaticLoggerBinder. How do I solve it?</a></p> </li> <li> <p><a href="#sid-68354993">JBoss Application Server Integration FAQs</a></p> </li> <li> <p><a href="#sid-68354995">Can I run my own Infinispan cache within JBoss Application Server 5 or 4?</a></p> </li> <li> <p><a href="#sid-68354994">Can I run my own Infinispan cache within JBoss Application Server 6?</a></p> </li> <li> <p><a href="#sid-68354996">Logging FAQs</a></p> </li> <li> <p><a href="#sid-68354997">How can I enable logging?</a></p> </li> <li> <p><a href="#sid-68354998">Third Party Container FAQs</a></p> </li> <li> <p><a href="#sid-68354999">Can I use Infinispan on Google App Engine for Java?</a></p> </li> <li> <p><a href="#sid-68355000">When running on Glassfish or Apache, creating a cache throws an exception saying "Unable to construct a GlobalComponentRegistry", what is it wrong?</a></p> </li> <li> <p><a href="#sid-68355001">Language FAQs</a></p> </li> <li> <p><a href="#sid-68355002">Can I use Infinispan with Groovy? What about Jython, Clojure, JRuby or Scala etc.?</a></p> </li> <li> <p><a href="#sid-68355003">Marshalling &amp; Unmarshalling</a></p> </li> <li> <p><a href="#sid-68355009">Best practices implementing java.io.Externalizable</a></p> </li> <li> <p><a href="#sid-68355005">Does Infinispan support storing Non-Serializable objects?</a></p> </li> <li> <p><a href="#sid-68355010">Do Externalizer implementations need to access internal Externalizer implementations?</a></p> </li> <li> <p><a href="#sid-68355006">Do I need to register an application cacheloader when using an isolated deployment?</a></p> </li> <li> <p><a href="#sid-68355007">During state transfer, the state receiver logs an EOFException when applying state saying "Read past end of file". Should I worry about this?</a></p> </li> <li> <p><a href="#sid-68355004">How do I get more information on marshalling &amp; unmarshalling exceptions?</a></p> </li> <li> <p><a href="#sid-68355008">Why am I getting invalid data passed to readExternal?</a></p> </li> <li> <p><a href="#sid-68355011">Tuning FAQs</a></p> </li> <li> <p><a href="#sid-68355012">When running Infinispan under load, I see RejectedExecutionException, how can I fix it?</a></p> </li> <li> <p><a href="#sid-68355013">JNDI FAQs</a></p> </li> <li> <p><a href="#sid-68355014">Can I bind Cache or CacheManager to JNDI?</a></p> </li> <li> <p><a href="#sid-68355015">Hibernate 2nd Level Cache FAQs</a></p> </li> <li> <p><a href="#sid-68355019">Can I use Infinispan as a remote JPA or Hibernate second level cache?</a></p> </li> <li> <p><a href="#sid-68355018">I&#8217;m adding the Infinispan 2nd level cache provider to existing servers that already use JGroups. Should I set Infinispan to use the same JGroups cluster, or should I use two separate cluster names?</a></p> </li> <li> <p><a href="#sid-68355016">Is it possible to use the Infinispan 2nd level cache outside of a J2EE server, and if so how do I set up the transaction manager lookup?</a></p> </li> <li> <p><a href="#sid-68355017">What are the pitfalls of not using a non-JTA transaction factory such as JDBCTransactionFactory with Hibernate when Infinispan is used as 2nd level cache provider?</a></p> </li> <li> <p><a href="#sid-68355020">Cache Server FAQs</a></p> </li> <li> <p><a href="#sid-68355021">After running a Hot Rod server for a while, I get a NullPointerException in HotRodEncoder.getTopologyResponse(), how can I get around it?</a></p> </li> <li> <p><a href="#sid-68355023">Is there a way to do a Bulk Get on a remote cache?</a></p> </li> <li> <p><a href="#sid-68355022">What is the startServer.sh script used for? What is the startServer.bat script used for?</a></p> </li> <li> <p><a href="#sid-68355024">Debugging FAQs</a></p> </li> <li> <p><a href="#sid-68355025">How can I get Infinispan to show the full byte array? The log only shows partial contents of byte arrays&#8230;</a></p> </li> <li> <p><a href="#sid-68355026">Clustering Transport FAQs</a></p> </li> <li> <p><a href="#sid-68355027">How do I retrieve the clustering physical address?</a></p> </li> </ul> </div> <div class="sect2"> <h3 id="sid-68354943"><a class="anchor" href="#sid-68354943"></a>4.1. General FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354944">What APIs does Infinispan offer?</a></p> </li> <li> <p><a href="#sid-68354945">Which JVMs (JDKs) does Infinispan work with?</a></p> </li> <li> <p><a href="#sid-68354946">Is Infinispan&#8217;s configuration compatible with JBoss Cache?</a></p> </li> <li> <p><a href="#sid-68354947">Grouping API vs Key Affinity Service</a></p> </li> <li> <p><a href="#sid-68454081">Does Infinispan store data by value or by reference?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354944"><a class="anchor" href="#sid-68354944"></a>4.1.1. What APIs does Infinispan offer?</h4> <div class="literalblock"> <div class="content"> <pre>Infinispan's primary API - link:$$http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/Cache.html$$[org.infinispan.Cache] - extends java.util.concurrent.ConcurrentMap and closely resembles javax.cache.Cache from link:$$http://jcp.org/en/jsr/detail?id=107$$[JSR 107] . This is the most performant API to use, and should be used for all new projects.</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>link:$$http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/tree/TreeCache.html$$[org.infinispan.tree.TreeCache] is a tree structured API that looks a lot like link:$$http://www.jbosscache.org$$[JBoss Cache] 's API.  Note that the similarities end at the interface though, since internal implementation and representation of the tree is completely different, using a much more efficient flat structure.</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>link:$$http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/tree/TreeCache.html$$[TreeCache] should be considered as a compatibility API, if you are migrating from JBoss Cache and cannot invest the time in rewriting your application, or your application specifically relies on a tree structure.</pre> </div> </div> <div class="admonitionblock tip"> <table> <tr> <td class="icon"> <i class="icon-tip" title="Tip"></i> </td> <td class="content"> <div class="title">Coming Soon</div> <div class="literalblock"> <div class="content"> <pre>An API for fine-grained replication is planned.  This will provide the same benefits of JBoss Cache's POJOCache variant, but far simpler and more robust.  It will _not_ rely on bytecode weaving or link:$$http://en.wikipedia.org/wiki/Aspect-oriented_programming$$[AOP] , and present users with a much more familiar link:$$http://en.wikipedia.org/wiki/Java_Persistence_API$$[JPA] -style session interface. When released, the fine-grained API will sacrifice performance, but give you cache data organization and fine-grained replication. This organisation inevitably involves heavy use of reflection, proxies and comparisons, and isn't nearly as efficient as more explicit use of the Cache API.</pre> </div> </div> </td> </tr> </table> </div> </div> <div class="sect3"> <h4 id="sid-68354945"><a class="anchor" href="#sid-68354945"></a>4.1.2. Which JVMs (JDKs) does Infinispan work with?</h4> <div class="paragraph"> <p>Infinispan is developed and primarily tested against Sun&#8217;s Java SE 6.  It should work with most Java SE 6 implementations, including those from IBM, HP, Apple, Oracle (BEA), and IcedTea.  We expect to test on Java SE 7 once this is finalized as well.</p> </div> </div> <div class="sect3"> <h4 id="sid-68354946"><a class="anchor" href="#sid-68354946"></a>4.1.3. Is Infinispan&#8217;s configuration compatible with JBoss Cache?</h4> <div class="paragraph"> <p>No.  But we intend to provide transformation scripts.  Keep in mind though that as long as you use custom components - custom interceptors, cache loaders, eviction policies - we will not be able to translate these and this would have to be done manually.</p> </div> </div> <div class="sect3"> <h4 id="sid-68354947"><a class="anchor" href="#sid-68354947"></a>4.1.4. Grouping API vs Key Affinity Service</h4> <div class="literalblock"> <div class="content"> <pre>The key affinity (for keys generated with the link:$$https://docs.jboss.org/author/display/ISPN/Key+affinity+service$$[Key Affinity Service] ) might be lost during topology changes. E.g. if k1 maps to node N1 and another node is added to the system, k1 can me migrated to N2 (affinity is lost). With link:$$https://docs.jboss.org/author/display/ISPN/The+Grouping+API$$[grouping API] you have the guarantee that the same node (you don't know/control which node) hosts all the data from the same group even after topology changes.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68454081"><a class="anchor" href="#sid-68454081"></a>4.1.5. Does Infinispan store data by value or by reference?</h4> <div class="paragraph"> <p>By default, Infinispan stores data by reference. So once clients store some data, clients can still modify entries via original object references. This means that since client references are valid, clients can make changes to entries in the cache using those references, but these modifications are only local and you still need to call one of the cache&#8217;s put/replace&#8230; methods in order for changes to replicate.</p> </div> <div class="literalblock"> <div class="content"> <pre>Obviously, allowing clients to modify cache contents directly, without any cache invocation, has some risks and that's why Infinispan offers the possibility to store data by value instead. The way store-by-value is enabled is by &lt;&lt;sid-68355106,enabling Infinispan to store data in binary format and forcing it to do these binary transformations eagerly&gt;&gt; .</pre> </div> </div> <div class="paragraph"> <p>The reason Infinispan stores data by-reference instead of by-value is performance. Storing data by reference is quicker than doing it by value because it does not have the penalty of having to transform keys and values into their binary format.</p> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354948"><a class="anchor" href="#sid-68354948"></a>4.2. Cache Loaders and Cache Store FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354949">Cache loaders and cache stores - what&#8217;s the difference?</a></p> </li> <li> <p><a href="#sid-68354952">Are modifications to asynchronous cache stores coalesced or aggregated?</a></p> </li> <li> <p><a href="#sid-68354950">In JBoss Cache, the JDBC and File CacheLoaders had restrictions such as only being able to use Strings in Fqns. Is this still the case in Infinispan?</a></p> </li> <li> <p><a href="#sid-68354953">What does the passivation flag do?</a></p> </li> <li> <p><a href="#sid-68354951">What if I get IOException "Unsupported protocol version 48" with JdbcStringBasedCacheStore?</a></p> </li> <li> <p><a href="#sid-68354955">Is there any way I can boost cache store&#8217;s performance? SKIP_CACHE_LOAD</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354949"><a class="anchor" href="#sid-68354949"></a>4.2.1. Cache loaders and cache stores - what&#8217;s the difference?</h4> <div class="literalblock"> <div class="content"> <pre>JBoss Cache shipped with a link:$$http://www.jboss.org/file-access/default/members/jbosscache/freezone/docs/3.0.3.GA/apidocs/org/jboss/cache/loader/CacheLoader.html$$[CacheLoader] interface and a number of implementations.  Infinispan has broken this up into two separate interfaces - a link:$$http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/loader/CacheLoader.html$$[CacheLoader] simply loads state from elsewhere, while a link:$$http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/loader/CacheStore.html$$[CacheStore] - which extends CacheLoader - exposes methods to store state as well. This  makes it simpler to define read-only sources. </pre> </div> </div> <div class="admonitionblock tip"> <table> <tr> <td class="icon"> <i class="icon-tip" title="Tip"></i> </td> <td class="content"> <div class="paragraph"> <p>Infinispan ships with several high performance implementations of these interfaces.</p> </div> </td> </tr> </table> </div> </div> <div class="sect3"> <h4 id="sid-68354952"><a class="anchor" href="#sid-68354952"></a>4.2.2. Are modifications to asynchronous cache stores coalesced or aggregated?</h4> <div class="paragraph"> <p>Before 4.0.0.Beta1, cache store modifications were queued in such way that a modification processor thread would empty the modification queue and apply each modification individually. This implementation was not able to detect multiple changes for the same key within the queue which meant that if the queue contained 10 modifications for the same key, it would apply all 10 modifications individually.</p> </div> <div class="literalblock"> <div class="content"> <pre>Since 4.0.0.Beta1 ( link:$$https://jira.jboss.org/jira/browse/ISPN-116$$[ISPN-116] ), modifications are coalesced or aggregated for the interval that the modification processor thread is currently applying. This means that while changes are being queued, if multiple modifications are made to the same key, only the key's last state will be applied, hence reducing the number of calls to the cache store.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354950"><a class="anchor" href="#sid-68354950"></a>4.2.3. In JBoss Cache, the JDBC and File CacheLoaders had restrictions such as only being able to use Strings in Fqns. Is this still the case in Infinispan?</h4> <div class="literalblock"> <div class="content"> <pre>No.  We have completely re-written these implementations with a much better design which allows us to use arbitrary keys (or Fqn elements if using the link:$$http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/tree/TreeCache.html$$[TreeCache] API), provided they are serializable.  For details, see the link:$$http://docs.jboss.org/infinispan/4.0/apidocs/org/infinispan/loader/bucket/BucketBasedCacheStore.html$$[BucketBasedCacheStore] .</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354953"><a class="anchor" href="#sid-68354953"></a>4.2.4. What does the passivation flag do?</h4> <div class="literalblock"> <div class="content"> <pre>Passivation is a mode of storing entries in the cache store _only when_ they are evicted from memory.  The benefit of this approach is to prevent a lot of expensive writes to the cache store if an entry is hot (frequently used) and hence _not_ evicted from memory.  The reverse process, known as _activation_ , occurs when a thread attempts to access an entry which is _not_ in memory but is in the store (i.e., a _passivated_ entry).  Activation involves loading the entry into memory, and then _removing_ it from the cache store.  With passivation enabled, the cache uses the cache store as an overflow tank, akin to link:$$http://en.wikipedia.org/wiki/Paging$$[swapping memory pages to disk] in link:$$http://en.wikipedia.org/wiki/Virtual_memory$$[virtual memory] implementations in operating systems.</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>If passivation is disabled, the cache store behaves as a &lt;&lt;sid-68355172&gt;&gt; (or &lt;&lt;sid-68355173&gt;&gt; if asynchronous) cache, where all entries in memory are also maintained in the cache store.  The effect of this is that the cache store will always contain a superset of what is in memory.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354951"><a class="anchor" href="#sid-68354951"></a>4.2.5. What if I get IOException "Unsupported protocol version 48" with JdbcStringBasedCacheStore?</h4> <div class="literalblock"> <div class="content"> <pre>You have probably set your data column type to VARCHAR , CLOB or something similar, but it should be BLOB/VARBINARY . Even though it's called JdbcStringBasedCacheStore , only the keys are required to be strings; the values can be anything, so they need to be stored in a binary column. See the link:$$http://docs.jboss.org/infinispan/5.0/apidocs/org/infinispan/loaders/jdbc/AbstractNonDelegatingJdbcCacheStoreConfig.html#setDataColumnType%28java.lang.String%29$$[setDataColumnType javadoc] for more details.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354955"><a class="anchor" href="#sid-68354955"></a>4.2.6. Is there any way I can boost cache store&#8217;s performance? SKIP_CACHE_LOAD</h4> <div class="paragraph"> <p>If, for put operations, you don&#8217;t need the previous values existing in the cache/store then the following optimisation can be made:</p> </div> <div class="exampleblock"> <div class="title">Example 1. Skip cache store read</div> <div class="content"> <div class="listingblock"> <div class="content"> <pre>
cache.getAdvancedCache().withFlags(Flag.SKIP_CACHE_LOAD).put(key, value);
</pre> </div> </div> </div> </div> <div class="literalblock"> <div class="content"> <pre>Note that in this case the value returned by cache.put is not reliable. This optimisation skips a cache store read and can have very significant performance improvement effects.</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>More flags are described at link:$$https://docs.jboss.org/author/pages/viewpage.action?pageId=3737122$$[Per-Invocation Flags]</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354956"><a class="anchor" href="#sid-68354956"></a>4.3. Locking FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354959">Does Infinispan support distributed eager locking?</a></p> </li> <li> <p><a href="#sid-68354960">How does Infinispan support explicit eager locking?</a></p> </li> <li> <p><a href="#sid-68354961">How does Infinispan support implicit eager locking?</a></p> </li> <li> <p><a href="#sid-68354957">JBoss Cache exposed several different locking schemes - pessimistic, optimistic and MVCC.  I don&#8217;t see a way to specify locking scheme in Infinispan.  Why is this?</a></p> </li> <li> <p><a href="#sid-68354958">What isolation levels does Infinispan support?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354959"><a class="anchor" href="#sid-68354959"></a>4.3.1. Does Infinispan support distributed eager locking?</h4> <div class="paragraph"> <p>Yes it does. Infinispan, by default, acquires remote locks lazily.  Locks are acquired locally on a node that runs a transaction while other cluster nodes attempt to lock cache keys involved in a transaction during two-phase prepare/commit phase. However, if desired, Infinispan can eagerly lock cache keys either explicitly or implicitly.</p> </div> </div> <div class="sect3"> <h4 id="sid-68354960"><a class="anchor" href="#sid-68354960"></a>4.3.2. How does Infinispan support explicit eager locking?</h4> <div class="paragraph"> <p>Infinispan cache interface exposes lock API that allows cache users to explicitly lock set of cache keys eagerly during a transaction. Lock call attempts to lock specified cache keys across all cluster nodes and it either succeeds or fails. All locks are released during commit or rollback phase.</p> </div> <div class="paragraph"> <p>Consider a transaction running on one of the cache nodes:</p> </div> <div class="listingblock"> <div class="content"> <pre>
   tx.begin()
   cache.lock(K)    // acquire cluster wide lock on K
   cache.put(K,V5)  // guaranteed to succeed
   tx.commit()      // releases locks
</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354961"><a class="anchor" href="#sid-68354961"></a>4.3.3. How does Infinispan support implicit eager locking?</h4> <div class="paragraph"> <p>Implicit locking goes one step ahead and locks cache keys behind the scene as keys are accessed for modification operations.</p> </div> <div class="paragraph"> <p>Consider a transaction running on one of the cache nodes:</p> </div> <div class="listingblock"> <div class="content"> <pre>
   tx.begin()
   cache.put(K,V)    // acquire cluster wide lock on K
   cache.put(K2,V2)  // acquire cluster wide lock on K2
   cache.put(K,V5)   // no-op, we already own cluster wide lock for K
   tx.commit()       // releases locks
</pre> </div> </div> <div class="paragraph"> <p>Implicit eager locking locks cache keys across cluster nodes only if it is necessary to do so. In a nutshell, if implicit eager locking is turned on then for each modification Infinispan checks if cache key is locked locally. If it is then a global cluster wide lock has already been obtained, otherwise a cluster wide lock request is sent and lock is acquired.</p> </div> <div class="paragraph"> <p>Implicit eager locking is enabled as follows:</p> </div> <div class="listingblock"> <div class="content"> <pre>
&lt;transaction useEagerLocking="true" /&gt;
</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354957"><a class="anchor" href="#sid-68354957"></a>4.3.4. JBoss Cache exposed several different locking schemes - pessimistic, optimistic and MVCC.  I don&#8217;t see a way to specify locking scheme in Infinispan.  Why is this?</h4> <div class="paragraph"> <p>This is because Infinispan only supports MVCC.  MVCC is by far more performant, threadsafe and consistent than the other locking schemes.</p> </div> </div> <div class="sect3"> <h4 id="sid-68354958"><a class="anchor" href="#sid-68354958"></a>4.3.5. What isolation levels does Infinispan support?</h4> <div class="literalblock"> <div class="content"> <pre>Infinispan only supports the isolation levels &lt;&lt;sid-68355197&gt;&gt; and &lt;&lt;sid-68355198&gt;&gt; .</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>The default isolation mode is &lt;&lt;sid-68355197&gt;&gt; .  Unlike JBoss Cache, which used &lt;&lt;sid-68355198&gt;&gt; by default.  We consider &lt;&lt;sid-68355197&gt;&gt; to be good enough for most applications and hence its use as a default.</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354962"><a class="anchor" href="#sid-68354962"></a>4.4. Transaction FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354963">When using Atomikos transaction manager, distributed caches are not distributing data, what is the problem?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354963"><a class="anchor" href="#sid-68354963"></a>4.4.1. When using Atomikos transaction manager, distributed caches are not distributing data, what is the problem?</h4> <div class="literalblock"> <div class="content"> <pre>For efficiency reasons, Atomikos transaction manager commits transactions in a separate thread to the thread making the cache operations and until 4.2.1.CR1, Infinispan had problems with this type of scenarios and resulted on distributed caches not sending data to other nodes (see link:$$https://issues.jboss.org/browse/ISPN-927$$[ISPN-927] for more details). Please note that replicaticated, invalidated or local caches would work fine. It's only distributed caches that would suffer this problem.</pre> </div> </div> <div class="paragraph"> <p>There&#8217;re two ways to get around this issue, either:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>Upgrade to Infinispan 4.2.1.CR2 or higher where the issue has been fixed.</p> </li> <li> <p>If using Infinispan 4.2.1.CR1 or earlier, <a href="http://www.atomikos.com/Documentation/JtaProperties">configure Atomikos so that com.atomikos.icatch.threaded_2pc is set to false</a> . This results in commits happening in the same thread that made the cache operations.</p> </li> </ol> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354964"><a class="anchor" href="#sid-68354964"></a>4.5. Eviction and Expiration FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354968">Cache&#8217;s number of entries never reaches configured maxEntries, why is that?</a></p> </li> <li> <p><a href="#sid-68354965">Expiration does not work, what is the problem?</a></p> </li> <li> <p><a href="#sid-68354967">Why is cache size sometimes even higher than specified maxEntries of the eviction configuration element?</a></p> </li> <li> <p><a href="#sid-68354966">Why isn&#8217;t there a notification for the expiration of a cache entry?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354968"><a class="anchor" href="#sid-68354968"></a>4.5.1. Cache&#8217;s number of entries never reaches configured maxEntries, why is that?</h4> <div class="literalblock"> <div class="content"> <pre>In the current eviction design, eviction happens per map segment, so when the segment gets filled up, eviction runs in that segment. This means that the theoretical maxEntries might never be achieved, but it'll be close enough. For more information, see the &lt;&lt;sid-68355088,eviction documentation&gt;&gt; .</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354965"><a class="anchor" href="#sid-68354965"></a>4.5.2. Expiration does not work, what is the problem?</h4> <div class="literalblock"> <div class="content"> <pre>Multiple cache operations such as link:$$http://docs.jboss.org/infinispan/4.1/apidocs/org/infinispan/Cache.html#put(K, V, long, java.util.concurrent.TimeUnit)$$[put()] can take a lifespan as parameter which defines the time when the entry should be expired. If you have no eviction configured and and you let this time expire, it can look as Infinispan has not removed the entry. For example, the JMX stats such as number of entries might not updated or the persistent store associated with Infinispan might still contain the entry. To understand what's happening, it's important to note that Infinispan has marked the entry as expired but has not actually removed it. Removal of _expired_ entries happens in one of 2 ways:</pre> </div> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>You try and do a get() or containsKey() for that entry.  The entry is then detected as expired and is removed.</p> </li> <li> <p>You have enabled eviction and an eviction thread wakes up periodically and purges expired entries.</p> <div class="literalblock"> <div class="content"> <pre>If you have not enabled (2), or your eviction thread wakeup interval is large and you probe jconsole before the eviction thread kicks in, you will still see the expired entry.  You can be assured that if you tried to _retrieve_ the entry via a get() or containsKey() though, you won't see the entry (and the entry will be removed).</pre> </div> </div> </li> </ol> </div> </div> <div class="sect3"> <h4 id="sid-68354967"><a class="anchor" href="#sid-68354967"></a>4.5.3. Why is cache size sometimes even higher than specified maxEntries of the eviction configuration element?</h4> <div class="paragraph"> <p>Although one can specify maxEntries to be a value that is not a power of two, the underlying algorithm will size it to the value V closest to power of two that is larger than maxEntries specified. Eviction algorithms guarantee that the size of cache container will never be greater than V.</p> </div> </div> <div class="sect3"> <h4 id="sid-68354966"><a class="anchor" href="#sid-68354966"></a>4.5.4. Why isn&#8217;t there a notification for the expiration of a cache entry?</h4> <div class="paragraph"> <p>Infinispan does not guarantee that an eviction will occur immediately on timeout, but instead uses a number of mechanisms to perform eviction:</p> </div> <div class="ulist"> <ul> <li> <p>a user thread asks for the entry and it is determined that the entry has expired; it will be removed from the cache at this point.</p> </li> <li> <p>the entry is passivated/overflowed to disk but it is determined that the entry has expired; it will removed from the cache at this point.</p> </li> <li> <p>an eviction maintenance thread kicks in and determines that the entry has been expired; it will removed from the cache at this point.</p> <div class="literalblock"> <div class="content"> <pre>As the eviction is only guaranteed to happen _some time later_ than the eviction timeout has elapsed, it has been decided that it is less surprising to not provide a callback than to provide a callback at this later point.</pre> </div> </div> </li> </ul> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354969"><a class="anchor" href="#sid-68354969"></a>4.6. Cache Manager FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354971">Can I create caches using different cache modes using the same cache manager?</a></p> </li> <li> <p><a href="#sid-68354972">Can transactions span different Cache instances from the same cache manager?</a></p> </li> <li> <p><a href="#sid-68354973">How does multi-tenancy work?</a></p> </li> <li> <p><a href="#sid-68354970">Infinispan allows me to create several Caches from a single CacheManager.  Are there any reasons to create separate CacheManagers?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354971"><a class="anchor" href="#sid-68354971"></a>4.6.1. Can I create caches using different cache modes using the same cache manager?</h4> <div class="paragraph"> <p>Yes.  You can create caches using different cache modes, both synchronous and asynchronous, using the same cache manager.</p> </div> </div> <div class="sect3"> <h4 id="sid-68354972"><a class="anchor" href="#sid-68354972"></a>4.6.2. Can transactions span different Cache instances from the same cache manager?</h4> <div class="paragraph"> <p>Yes.  Each cache behaves as a separate, standalone JTA resource.  Internally though, components may be shared as an optimization but this in no way affects how the caches interact with a JTA manager.</p> </div> </div> <div class="sect3"> <h4 id="sid-68354973"><a class="anchor" href="#sid-68354973"></a>4.6.3. How does multi-tenancy work?</h4> <div class="paragraph"> <p>Multi-tenancy is achieved by namespacing. A single Infinispan cluster can have several named caches (attached to the same CacheManager), and different named caches can have duplicate keys. So this is, in effect, multi-tenancy for your key/value store.</p> </div> </div> <div class="sect3"> <h4 id="sid-68354970"><a class="anchor" href="#sid-68354970"></a>4.6.4. Infinispan allows me to create several Caches from a single CacheManager.  Are there any reasons to create separate CacheManagers?</h4> <div class="paragraph"> <p>As far as possible, internal components are shared between Cache instances.  Notably, RPC and networking components are shared.  If you need caches that have different network characteristics - such as one cache using TCP while another uses UDP - we recommend you create these using different cache managers.</p> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354974"><a class="anchor" href="#sid-68354974"></a>4.7. Cache Mode FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354975">What is the difference between a replicated cache and a distributed cache?</a></p> </li> <li> <p><a href="#sid-68354977">Does DIST support both synchronous and asynchronous communications?</a></p> </li> <li> <p><a href="#sid-68354982">I have caches configured with asynchronous replication or distribution, but these caches appear to be behaving synchronously (waiting for responses), what is going on?</a></p> </li> <li> <p><a href="#sid-68354979">I notice that when using DIST, the cache does a remote get before a write command. Why is this?</a></p> </li> <li> <p><a href="#sid-68354981">I use a clustered cache. I want the guarantees of synchronous replication with the parallelism of asynchronous replication. What can I do?</a></p> </li> <li> <p><a href="#sid-68354978">Is buddy replication supported?</a></p> </li> <li> <p><a href="#sid-68354980">What is the L1 cache?</a></p> </li> <li> <p><a href="#sid-68354983">What consistency guarantees do I have with different Asynchronous processing settings ?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354975"><a class="anchor" href="#sid-68354975"></a>4.7.1. What is the difference between a replicated cache and a distributed cache?</h4> <div class="literalblock"> <div class="content"> <pre>Distribution is a new cache mode in Infinispan, in addition to replication and invalidation.  In a replicated cache all nodes in a cluster hold all keys i.e. if a key exists on one nodes, it will also exist on _all_ other mpdes.  In a distributed cache, a number of copies are maintained to provide redundancy and fault tolerance, however this is typically far fewer than the number of nodes in the cluster. A distributed cache provides a far greater degree of scalability than a replicated cache. </pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>A distributed cache is also able to transparently locate keys across a cluster, and provides an L1 cache for fast local read access of state that is stored remotely.  You can read more in &lt;&lt;sid-68355074_Clusteringmodes-DistributionMode,the reference guide&gt;&gt; .</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354977"><a class="anchor" href="#sid-68354977"></a>4.7.2. Does DIST support both synchronous and asynchronous communications?</h4> <div class="literalblock"> <div class="content"> <pre>Officially, no.  And unofficially, yes.  Here's the logic.  For certain public API methods to have meaningful return values (i.e., to stick to the interface contracts), if you are using DIST , synchronized communications are necessary.  For example, you have 3 caches in a cluster, A, B and C.  Key K maps to A and B.  On C, you perform an operation that requires a return value e.g., Cache.remove(K) .  For this to work, the call needs to be forwarded to A and B _synchronously_ , and would have to wait for the result from either A or B to return to the caller.  If communications were asynchronous, the return values cannot be guaranteed to be useful - even though the operation would behave as expected.</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>Now unofficially, we will add a configuration option to allow you to set your cache mode to DIST _and_ use asynchronous communications, but this would be an additional configuration option (perhaps something like break_api_contracts ) so that users are aware of what they are getting into.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354982"><a class="anchor" href="#sid-68354982"></a>4.7.3. I have caches configured with asynchronous replication or distribution, but these caches appear to be behaving synchronously (waiting for responses), what is going on?</h4> <div class="literalblock"> <div class="content"> <pre>If you have state transfer configured and you have asynchronous mode configured, caches will behave in a synchronous way. This is done so that state transfer can work as expected, but the current solution expands the synchronous calls to cache operations as well, which results in this unexpected behaivour. A better solution that will resolve this confusion is already link:$$https://issues.jboss.org/browse/ISPN-835$$[in the making] (this issue also contains currently viable workarounds).</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354979"><a class="anchor" href="#sid-68354979"></a>4.7.4. I notice that when using DIST, the cache does a remote get before a write command. Why is this?</h4> <div class="literalblock"> <div class="content"> <pre>Certain methods, such as Cache.put() , are supposed to return the previous value associated with the specified key according to the java.util.Map contract. If this is performed on an instance that does _not_ own the key in question and the key is not in L1 cache, the only way to reliably provide this return value is to do a remote GET before the put. This GET is _always_ sync (regardless of whether the cache is configured to be sync or async) since we need to wait for that return value.</pre> </div> </div> <div class="sect4"> <h5 id="sid-68354979_InoticethatwhenusingDIST%2Cthecachedoesaremotegetbeforeawritecommand.Whyisthis%3F-Isn%27tthatexpensive%3FHowcanIoptimizethisaway%3F"><a class="anchor" href="#sid-68354979_InoticethatwhenusingDIST%2Cthecachedoesaremotegetbeforeawritecommand.Whyisthis%3F-Isn%27tthatexpensive%3FHowcanIoptimizethisaway%3F"></a>Isn&#8217;t that expensive? How can I optimize this away?</h5> <div class="literalblock"> <div class="content"> <pre>It isn't as expensive as it sounds. A remote GET, although sync, will _not_ wait for all responses. It will accept the first valid response and move on, thus making its performance has no relation to cluster size.</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>If you feel your code has no need for these return values, then this can be disabled completely (by specifying the &amp;lt;unsafe unreliableReturnValues="true" /&amp;gt; configuration element for a cache-wide setting or the Flag.SKIP_REMOTE_LOOKUP for a per-invocation setting). Note that while this will _not_ impair cache operations and accurate functioning of all public methods is still maintained. However, it _will_ break the java.util.Map interface contract by providing unreliable and inaccurate return values to certain methods, so you would need to be certain that your code does not use these return values for anything useful.</pre> </div> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354981"><a class="anchor" href="#sid-68354981"></a>4.7.5. I use a clustered cache. I want the guarantees of synchronous replication with the parallelism of asynchronous replication. What can I do?</h4> <div class="literalblock"> <div class="content"> <pre>Infinispan offers a new async API to provide just this. These async methods return Future which can be queried, causing the thread to block till you get a confirmation that any network calls succeeded. You can link:$$http://infinispan.blogspot.com/2009/05/whats-so-cool-about-asynchronous-api.html$$[read more about it] .</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354978"><a class="anchor" href="#sid-68354978"></a>4.7.6. Is buddy replication supported?</h4> <div class="literalblock"> <div class="content"> <pre>Buddy Replication is not available in Infinispan.  The new distributed cache mode solves the same problems in a far more elegant and scalable manner.  Read link:$$http://infinispan.blogspot.com/2009/08/distribution-instead-of-buddy.html$$[this blog article] for a more detailed discussion on the subject.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354980"><a class="anchor" href="#sid-68354980"></a>4.7.7. What is the L1 cache?</h4> <div class="paragraph"> <p>An L1 cache (disabled by default) only exists if you set your cache mode to distribution.  An L1 cache prevents unnecessary remote fetching of entries mapped to remote caches by storing them locally for a short time after the first time they are accessed.  By default, entries in L1 have a lifespan of 60,000 milliseconds (though you can configure how long L1 entries are cached for).  L1 entries are also invalidated when the entry is changed elsewhere in the cluster so you are sure you don&#8217;t have stale entries cached in L1.  Caches with L1 enabled will consult the L1 cache before fetching an entry from a remote cache.</p> </div> <div class="literalblock"> <div class="content"> <pre>Also known as a _near cache_ in competing distributed cache products.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354983"><a class="anchor" href="#sid-68354983"></a>4.7.8. What consistency guarantees do I have with different Asynchronous processing settings ?</h4> <div class="paragraph"> <p>There are 3 main configuration settings (modes of usage) that affect the behaviour of Infinispan in terms of Asynchronous processing, summarized in the following table:</p> </div> <table class="tableblock frame-all grid-all" style="width:100%; "> <colgroup> <col style="width:50%;"> <col style="width:50%;"> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Config / Mode of usage</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>API</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Usage of <a href="https://docs.jboss.org/author/pages/viewpage.action?pageId=3737045">Asynchronous API</a> , i.e. methods of the Cache interface like e.g. putAsync(key, val)</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Marshalling</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Allowing <a href="https://docs.jboss.org/author/display/ISPN/Asynchronous+Options#AsynchronousOptions-AsynchronousMarshalling">Asynchronous Marshalling</a> , in cache configuration (via XML or programmatic configuration)</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Replication</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Configuring a clustered cache to replicate data asychronously. In Infinispan XML configuration this is done by using &lt;sync&gt; or &lt;async&gt; sub-elements under <a href="http://docs.jboss.org/infinispan/5.1/configdocs/urn_infinispan_config_5.1/complexType/configuration.clustering.html">&lt;clustering&gt;</a> element.</p></td> </tr> </tbody> </table> <div class="paragraph"> <p>Switching to asynchronous mode in each of these areas causes loss of some consistency guarrantees. The known problems are summarised here:</p> </div> <table class="tableblock frame-all grid-all" style="width:100%; "> <colgroup> <col style="width:25%;"> <col style="width:25%;"> <col style="width:25%;"> <col style="width:25%;"> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">API</th> <th class="tableblock halign-left valign-top">Replication</th> <th class="tableblock halign-left valign-top">Marshalling</th> <th class="tableblock halign-left valign-top">Consistency problems</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">Sync</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sync</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sync</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"> </p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">Sync</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Async</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sync</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em> - Cache entry is replicated with a delay or not at all in case of network error. <em>2</em> - Node where the operation originated won&#8217;t be notified about errors that happened on network or on the receiving side.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">Sync</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Async</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Async</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>1, 2</em> <em>3</em> - Calling order of sync API method might not be preserved – depends on which operation finishes marshalling first in the asyncExecutor <em>4</em> - Replication of put operation can be applied on different nodes in different order – this may result in inconsistent values</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Async</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sync</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sync</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>3</em></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Async</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Async</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sync</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>1, 2, 3</em></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Async</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Async</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Async</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>1, 2, 3, 4</em></p></td> </tr> </tbody> </table> </div> </div> <div class="sect2"> <h3 id="sid-68354984"><a class="anchor" href="#sid-68354984"></a>4.8. Listener FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354985">In a cache entry modified listener, can the modified value be retrieved via Cache.get() when isPre=false?</a></p> </li> <li> <p><a href="#sid-68354986">When annotating a method with CacheEntryCreated, how do I retrieve the value of the cache entry added?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354985"><a class="anchor" href="#sid-68354985"></a>4.8.1. In a cache entry modified listener, can the modified value be retrieved via Cache.get() when isPre=false?</h4> <div class="literalblock"> <div class="content"> <pre>No, it cannot. Use CacheEntryModifiedEvent.getValue() to retrieve the value of the entry that was modified.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354986"><a class="anchor" href="#sid-68354986"></a>4.8.2. When annotating a method with CacheEntryCreated, how do I retrieve the value of the cache entry added?</h4> <div class="literalblock"> <div class="content"> <pre>&lt;&lt;sid-68355087,Cache listeners&gt;&gt; can be defined to listen for cache entry created events by annotation methods with link:$$http://docs.jboss.org/infinispan/5.1/apidocs/org/infinispan/notifications/cachelistener/annotation/CacheEntryCreated.html$$[@CacheEntryCreated] and having link:$$http://docs.jboss.org/infinispan/5.1/apidocs/org/infinispan/notifications/cachelistener/event/CacheEntryCreatedEvent.html$$[CacheEntryCreatedEvent] as method parameter. link:$$http://docs.jboss.org/infinispan/5.1/apidocs/org/infinispan/notifications/cachelistener/event/CacheEntryCreatedEvent.html$$[CacheEntryCreatedEvent] does not provide a method to retrieve the value that was created in the cache though. To retrieve this value, a method annotated with link:$$http://docs.jboss.org/infinispan/5.1/apidocs/org/infinispan/notifications/cachelistener/annotation/CacheEntryModified.html$$[@CacheEntryModified] needs to be added because every time a cache entry is created, cache entry modified event is also fired.</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354987"><a class="anchor" href="#sid-68354987"></a>4.9. Cloud FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354988">How do you make Infinispan send replication traffic over a specific network when you don&#8217;t know the IP address?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354988"><a class="anchor" href="#sid-68354988"></a>4.9.1. How do you make Infinispan send replication traffic over a specific network when you don&#8217;t know the IP address?</h4> <div class="paragraph"> <p>Some cloud providers charge you less for traffic over internal IP addresses compared to public IP addresses, in fact, some cloud providers do not even charge a thing for traffic over the internal network (i.e. GoGrid). In these circumstances, it&#8217;s really advantageous to configure Infinispan in such way that replication traffic is sent via the internal network. The problem though is that quite often you don&#8217;t know which internal IP address you&#8217;ll be assigned (unless you use elastic IPs and dyndns.org), so how do you configure Infinispan to cope with those situations?</p> </div> <div class="literalblock"> <div class="content"> <pre>JGroups, which is the underlying group communication library to interconnect Infinispan instances, has come up with a way to enable users to bind to a type of address rather than to a specific IP address. So now you can configure bind_addr property in JGroups configuration file, or the -Djgroups.bind_addr system property to a keyword rather than a dotted decimal or symbolic IP address:</pre> </div> </div> <div class="ulist"> <ul> <li> <p>GLOBAL : pick a public IP address. You want to avoid this for replication traffic</p> </li> <li> <p>SITE_LOCAL : use a private IP address, e.g. 192.168.x.x. This avoids charges for bandwith from GoGrid, for example</p> </li> <li> <p>LINK_LOCAL : use a 169.x.x.x, 254.0.0.0 address. I&#8217;ve never used this, but this would be for traffic only within 1 box</p> </li> <li> <p>NON_LOOPBACK : use the first address found on an interface (which is up), which is not a 127.x.x.x address</p> </li> </ul> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354989"><a class="anchor" href="#sid-68354989"></a>4.10. Demo FAQs</h3> <div class="sect3"> <h4 id="sid-68354990"><a class="anchor" href="#sid-68354990"></a>4.10.1. When using the GUI Demo, I&#8217;ve just put an entry in the cache with lifespan of -1. Why do I see it as having a lifespan of 60,000?</h4> <div class="literalblock"> <div class="content"> <pre>This is probably a L1 caching event.  When you put an entry in the cache, the entry is mapped to specific nodes in a cluster using a consistent hashing algorithm.  This means that key K could map on to caches A  and B  (or however many owners you have configured).  If you happen to have done the cache.put(K, V) on cache C , however, K  still maps to A  and B  (and will be added to caches A  and B  with their proper lifespans), but it will also be put in cache C's L1 cache.</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354991"><a class="anchor" href="#sid-68354991"></a>4.11. Query Module FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354992">When I run an application based on the Query module, I get a ClassNotFoundException for org.slf4j.impl.StaticLoggerBinder. How do I solve it?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354992"><a class="anchor" href="#sid-68354992"></a>4.11.1. When I run an application based on the Query module, I get a ClassNotFoundException for org.slf4j.impl.StaticLoggerBinder. How do I solve it?</h4> <div class="literalblock"> <div class="content"> <pre>See the SLF4J section in link:$$https://docs.jboss.org/author/pages/viewpage.action?pageId=3737030$$[the reference guide] .</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354993"><a class="anchor" href="#sid-68354993"></a>4.12. JBoss Application Server Integration FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354995">Can I run my own Infinispan cache within JBoss Application Server 5 or 4?</a></p> </li> <li> <p><a href="#sid-68354994">Can I run my own Infinispan cache within JBoss Application Server 6?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354995"><a class="anchor" href="#sid-68354995"></a>4.12.1. Can I run my own Infinispan cache within JBoss Application Server 5 or 4?</h4> <div class="paragraph"> <p>Yes, you can, but since Infinispan uses different JGroups jar libraries to the ones shipped by these application servers, you need to make sure that the code using Infinispan, and the Infinispan libraries, are deployed in an isolated WAR/EAR. Information on how to isolate deployments can be found in:</p> </div> <div class="ulist"> <ul> <li> <p><a href="http://community.jboss.org/docs/9288">Isolating deployments in JBoss AS 4 or earlier</a></p> </li> <li> <p>For AS5, follow instructions on adding jars and adding isolated deployment descriptor in <a href="https://docs.jboss.org/author/pages/viewpage.action?pageId=3737057">here</a></p> <div class="literalblock"> <div class="content"> <pre>Apart from isolating your deployment, you can use Maven's Shade plugin to build Infinispan and all its dependencies in a single jar, and then _shade_ the library that might clash with the one in the app server. For example, to shade org.jgroups , you'd build Infinispan with:</pre> </div> </div> </li> </ul> </div> <div class="listingblock"> <div class="content"> <pre>
&lt;plugin&gt;
  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
  &lt;version&gt;1.4&lt;/version&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;phase&gt;package&lt;/phase&gt;
      &lt;goals&gt;
        &lt;goal&gt;shade&lt;/goal&gt;
      &lt;/goals&gt;
      &lt;configuration&gt;
        &lt;relocations&gt;
          &lt;relocation&gt;
            &lt;pattern&gt;org.jgroups&lt;/pattern&gt;
            &lt;shadedPattern&gt;org.shaded.jgroups&lt;/shadedPattern&gt;
          &lt;/relocation&gt;
        &lt;/relocations&gt;
      &lt;/configuration&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
&lt;/plugin&gt;
</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68354994"><a class="anchor" href="#sid-68354994"></a>4.12.2. Can I run my own Infinispan cache within JBoss Application Server 6?</h4> <div class="literalblock"> <div class="content"> <pre>Yes you can, it's all explained in the link:$$http://community.jboss.org/docs/16180$$[Infinispan and AS6 integration wiki] .</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354996"><a class="anchor" href="#sid-68354996"></a>4.13. Logging FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354997">How can I enable logging?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354997"><a class="anchor" href="#sid-68354997"></a>4.13.1. How can I enable logging?</h4> <div class="paragraph"> <p>By default Infinispan uses JBoss Logging 3.0 as logging framework. JBoss Logging acts as a delegator to either JBoss Log Manager, Apache Log4j, Slf4j or JDK Logging. The way it chooses which logging provider to delegate to is by:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>checking whether the JBoss Log Manager is configured (e.g. Infinispan is running in JBoss Application Server 7) and if it is, using it</p> </li> <li> <p>otherwise, checking if <a href="http://logging.apache.org/log4j/1.2/index.html">Apache Log4j</a> is in the classpath (JBoss Logging checks if the classes org.apache.log4j.LogManager and org.apache.log4j.Hierarchy are available) and if it is, using it</p> </li> <li> <p>otherwise, checking if <a href="http://logback.qos.ch/">LogBack</a> in the classpath (JBoss Logging checks if the class ch.qos.logback.classic.Logger is available) and if it is, using it</p> </li> <li> <p>finally, if none of the above are available, using <a href="http://java.sun.com/j2se/1.4.2/docs/guide/util/logging/overview.html">JDK logging</a></p> <div class="literalblock"> <div class="content"> <pre>You can use this link:$$https://github.com/infinispan/infinispan/blob/master/core/src/test/resources/log4j.xml$$[log4j.xml] as base for any Infinispan related logging, and you can pass it to your system via system parameter (e.g.,
             -Dlog4j.configuration=
             link:$$file:/path/to/log4j.xml$$[]
            ).</pre> </div> </div> </li> </ol> </div> </div> </div> <div class="sect2"> <h3 id="sid-68354998"><a class="anchor" href="#sid-68354998"></a>4.14. Third Party Container FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68354999">Can I use Infinispan on Google App Engine for Java?</a></p> </li> <li> <p><a href="#sid-68355000">When running on Glassfish or Apache, creating a cache throws an exception saying "Unable to construct a GlobalComponentRegistry", what is it wrong?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68354999"><a class="anchor" href="#sid-68354999"></a>4.14.1. Can I use Infinispan on Google App Engine for Java?</h4> <div class="literalblock"> <div class="content"> <pre>Not at this moment.  Due to GAE/J restricting classes that can be loaded, and restrictions around use of threads, Infinispan will not work on GAE/J.  However, we do plan to fix this - if you wish to track the progress of Infinispan on GAE/J, have a look at link:$$https://jira.jboss.org/jira/browse/ISPN-57$$[ISPN-57] .</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68355000"><a class="anchor" href="#sid-68355000"></a>4.14.2. When running on Glassfish or Apache, creating a cache throws an exception saying "Unable to construct a GlobalComponentRegistry", what is it wrong?</h4> <div class="paragraph"> <p>It appears that this happens due to some classloading issue. A workaround that is know to work is to call the following before creating the cache manager or container:</p> </div> <div class="listingblock"> <div class="content"> <pre>
Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());
</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68355001"><a class="anchor" href="#sid-68355001"></a>4.15. Language FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68355002">Can I use Infinispan with Groovy? What about Jython, Clojure, JRuby or Scala etc.?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68355002"><a class="anchor" href="#sid-68355002"></a>4.15.1. Can I use Infinispan with Groovy? What about Jython, Clojure, JRuby or Scala etc.?</h4> <div class="paragraph"> <p>While we haven&#8217;t extensively tested Infinispan on anything other than Java, there is no reason why it cannot be used in any other environment that sits atop a JVM. We encourage you to try, and we&#8217;d love to hear your experiences on using Infinispan from other JVM languages.</p> </div> </div> </div> <div class="sect2"> <h3 id="sid-68355003"><a class="anchor" href="#sid-68355003"></a>4.16. Marshalling &amp; Unmarshalling</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68355009">Best practices implementing java.io.Externalizable</a></p> </li> <li> <p><a href="#sid-68355005">Does Infinispan support storing Non-Serializable objects?</a></p> </li> <li> <p><a href="#sid-68355010">Do Externalizer implementations need to access internal Externalizer implementations?</a></p> </li> <li> <p><a href="#sid-68355006">Do I need to register an application cacheloader when using an isolated deployment?</a></p> </li> <li> <p><a href="#sid-68355007">During state transfer, the state receiver logs an EOFException when applying state saying "Read past end of file". Should I worry about this?</a></p> </li> <li> <p><a href="#sid-68355004">How do I get more information on marshalling &amp; unmarshalling exceptions?</a></p> </li> <li> <p><a href="#sid-68355008">Why am I getting invalid data passed to readExternal?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68355009"><a class="anchor" href="#sid-68355009"></a>4.16.1. Best practices implementing java.io.Externalizable</h4> <div class="literalblock"> <div class="content"> <pre>If you decide to implement link:$$http://download.oracle.com/javase/6/docs/api/java/io/Externalizable.html$$[Externalizable] interface, please make sure that the link:$$http://download.oracle.com/javase/6/docs/api/java/io/Externalizable.html#readExternal(java.io.ObjectInput)$$[readExternal()] method is thread safe, otherwise you run the risk of potential getting corrupted data and link:$$http://download.oracle.com/javase/6/docs/api/java/lang/OutOfMemoryError.html$$[OutOfMemoryException] , as seen in link:$$http://community.jboss.org/message/609296#609296$$[this forum post] .</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68355005"><a class="anchor" href="#sid-68355005"></a>4.16.2. Does Infinispan support storing Non-Serializable objects?</h4> <div class="literalblock"> <div class="content"> <pre>See &lt;&lt;sid-68355106_Marshalling-SupportForNonSerializableObjects,the reference guide&gt;&gt; .</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68355010"><a class="anchor" href="#sid-68355010"></a>4.16.3. Do Externalizer implementations need to access internal Externalizer implementations?</h4> <div class="paragraph"> <p>No, they don&#8217;t. Here&#8217;s an example of what should not be done:</p> </div> <div class="listingblock"> <div class="content"> <pre>public static class ABCMarshallingExternalizer implements AdvancedExternalizer&lt;ABCMarshalling&gt; {
   @Override
   public void writeObject(ObjectOutput output, ABCMarshalling object) throws IOException {
      MapExternalizer ma = new MapExternalizer();
      ma.writeObject(output, object.getMap());
   }

   @Override
   public ABCMarshalling readObject(ObjectInput input) throws IOException, ClassNotFoundException {
      ABCMarshalling hi = new ABCMarshalling();
      MapExternalizer ma = new MapExternalizer();
      hi.setMap((ConcurrentHashMap&lt;Long, Long&gt;) ma.readObject(input));
      return hi;
   }

   ...
}</pre> </div> </div> <div class="paragraph"> <p>End user externalizers should not need to fiddle with Infinispan internal externalizer classes. Instead, this code should have been written as:</p> </div> <div class="listingblock"> <div class="content"> <pre>public static class ABCMarshallingExternalizer implements AdvancedExternalizer&lt;ABCMarshalling&gt; {
   @Override
   public void writeObject(ObjectOutput output, ABCMarshalling object) throws IOException {
      output.writeObject(object.getMap());
   }

   @Override
   public ABCMarshalling readObject(ObjectInput input) throws IOException, ClassNotFoundException {
      ABCMarshalling hi = new ABCMarshalling();
      hi.setMap((ConcurrentHashMap&lt;Long, Long&gt;) input.readObject());
      return hi;
   }

   ...
}</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68355006"><a class="anchor" href="#sid-68355006"></a>4.16.4. Do I need to register an application cacheloader when using an isolated deployment?</h4> <div class="literalblock"> <div class="content"> <pre>In JBossCache when dealing with isolated deployments, registering application cacheloader with cache was needed for replication to work. With Infinispan, there's no such need, link:$$https://docs.jboss.org/author/pages/viewpage.action?pageId=3737168_Marshalling-LazyDeserialization%2528storeAsBinary%2529$$[lazy deserialization] is used to get around the issue.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68355007"><a class="anchor" href="#sid-68355007"></a>4.16.5. During state transfer, the state receiver logs an EOFException when applying state saying "Read past end of file". Should I worry about this?</h4> <div class="paragraph"> <p>It depends on whether the state provider encountered an error or not when generating the state. For example, sometimes the state provider might already be providing state to another node, so when the node requests the state, the state generator might log:</p> </div> <div class="listingblock"> <div class="content"> <pre>
2010-12-09 10:26:21,533 20267 ERROR [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (STREAMING_STATE_TRANSFER-sender-1,Infinispan-Cluster,NodeJ-2368:) Caught while responding to state transfer request
org.infinispan.statetransfer.StateTransferException: java.util.concurrent.TimeoutException: Could not obtain exclusive processing lock
     at org.infinispan.statetransfer.StateTransferManagerImpl.generateState(StateTransferManagerImpl.java:175)
     at org.infinispan.remoting.InboundInvocationHandlerImpl.generateState(InboundInvocationHandlerImpl.java:119)
     at org.infinispan.remoting.transport.jgroups.JGroupsTransport.getState(JGroupsTransport.java:586)
     at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.handleUpEvent(MessageDispatcher.java:691)
     at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:772)
     at org.jgroups.JChannel.up(JChannel.java:1465)
     at org.jgroups.stack.ProtocolStack.up(ProtocolStack.java:954)
     at org.jgroups.protocols.pbcast.FLUSH.up(FLUSH.java:478)
     at org.jgroups.protocols.pbcast.STREAMING_STATE_TRANSFER$StateProviderHandler.process(STREAMING_STATE_TRANSFER.java:653)
     at org.jgroups.protocols.pbcast.STREAMING_STATE_TRANSFER$StateProviderThreadSpawner$1.run(STREAMING_STATE_TRANSFER.java:582)
     at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
     at java.lang.Thread.run(Thread.java:680)
Caused by: java.util.concurrent.TimeoutException: Could not obtain exclusive processing lock
     at org.infinispan.remoting.transport.jgroups.JGroupsDistSync.acquireProcessingLock(JGroupsDistSync.java:71)
     at org.infinispan.statetransfer.StateTransferManagerImpl.generateTransactionLog(StateTransferManagerImpl.java:202)
     at org.infinispan.statetransfer.StateTransferManagerImpl.generateState(StateTransferManagerImpl.java:165)
     ... 12 more
</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>This exception is basically saying that the state generator was not able to generate the transaction log and so the output to which it was writing is closed. In this situation, it's common to see the state receiver log an EOFException , as shown below, when trying to read the transaction log because the sender did not write the transaction log:</pre> </div> </div> <div class="listingblock"> <div class="content"> <pre>
2010-12-09 10:26:21,535 20269 TRACE [org.infinispan.marshall.VersionAwareMarshaller] (Incoming-2,Infinispan-Cluster,NodeI-38030:) Log exception reported
java.io.EOFException: Read past end of file
     at org.jboss.marshalling.AbstractUnmarshaller.eofOnRead(AbstractUnmarshaller.java:184)
     at org.jboss.marshalling.AbstractUnmarshaller.readUnsignedByteDirect(AbstractUnmarshaller.java:319)
     at org.jboss.marshalling.AbstractUnmarshaller.readUnsignedByte(AbstractUnmarshaller.java:280)
     at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:207)
     at org.jboss.marshalling.AbstractUnmarshaller.readObject(AbstractUnmarshaller.java:85)
     at org.infinispan.marshall.jboss.GenericJBossMarshaller.objectFromObjectStream(GenericJBossMarshaller.java:175)
     at org.infinispan.marshall.VersionAwareMarshaller.objectFromObjectStream(VersionAwareMarshaller.java:184)
     at org.infinispan.statetransfer.StateTransferManagerImpl.processCommitLog(StateTransferManagerImpl.java:228)
     at org.infinispan.statetransfer.StateTransferManagerImpl.applyTransactionLog(StateTransferManagerImpl.java:250)
     at org.infinispan.statetransfer.StateTransferManagerImpl.applyState(StateTransferManagerImpl.java:320)
     at org.infinispan.remoting.InboundInvocationHandlerImpl.applyState(InboundInvocationHandlerImpl.java:102)
     at org.infinispan.remoting.transport.jgroups.JGroupsTransport.setState(JGroupsTransport.java:603)
        ...
</pre> </div> </div> <div class="paragraph"> <p>The current logic is for the state receiver to back off in these scenarios and retry after a few seconds. Quite often, after the retry the state generator might have already finished dealing with the other node and hence the state receiver will be able to fully receive the state.</p> </div> </div> <div class="sect3"> <h4 id="sid-68355004"><a class="anchor" href="#sid-68355004"></a>4.16.6. How do I get more information on marshalling &amp; unmarshalling exceptions?</h4> <div class="literalblock"> <div class="content"> <pre>See &lt;&lt;sid-68355106_Marshalling-Troubleshooting,the reference guide&gt;&gt; .</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68355008"><a class="anchor" href="#sid-68355008"></a>4.16.7. Why am I getting invalid data passed to readExternal?</h4> <div class="literalblock"> <div class="content"> <pre>If you are using Cache.putAsync() you may find your object is modified after serialization starts, thus corrupting the datastream passed to readExternal . To solve this, make sure you synchronize access to the object.</pre> </div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="icon-note" title="Note"></i> </td> <td class="content"> <div class="title">Read More</div> <div class="literalblock"> <div class="content"> <pre>You can read more about this issue in link:$$http://community.jboss.org/message/609040$$[this forum thread] .</pre> </div> </div> </td> </tr> </table> </div> </div> </div> <div class="sect2"> <h3 id="sid-68355011"><a class="anchor" href="#sid-68355011"></a>4.17. Tuning FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68355012">When running Infinispan under load, I see RejectedExecutionException, how can I fix it?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68355012"><a class="anchor" href="#sid-68355012"></a>4.17.1. When running Infinispan under load, I see RejectedExecutionException, how can I fix it?</h4> <div class="literalblock"> <div class="content"> <pre>Internally Infinispan uses executors to do some processing asynchronously, so the first thing to do is to figure out which of these executors is causing issues. For example, if you see a stacktrace that looks like this, the problem is located in the link:$$http://docs.jboss.org/infinispan/4.1/apidocs/config.html#ce_global_asyncTransportExecutor$$[asyncTransportExecutor] :</pre> </div> </div> <div class="listingblock"> <div class="content"> <pre>
java.util.concurrent.RejectedExecutionException
  at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:1759)
  at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:767)
  at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:658)
  at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:92)
  at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.invokeRemoteCommands(CommandAwareRpcDispatcher.java:117)
...
</pre> </div> </div> <div class="paragraph"> <p>To solve this issue, you should try any of these options:</p> </div> <div class="ulist"> <ul> <li> <p>Increase the maxThreads property in <a href="http://docs.jboss.org/infinispan/4.1/apidocs/config.html#ce_global_asyncTransportExecutor">asyncTransportExecutor</a> . At the time of writing, the default value for this particular executor is 25.</p> </li> <li> <p>Define your own ExecutorFactory which creates an executor with a bigger queue. You can find more information about different queueing strategies in <a href="http://java.sun.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html">ThreadPoolExecutor javadoc</a> .</p> </li> <li> <p>Disable async marshalling (see the <a href="http://docs.jboss.org/infinispan/5.1/configdocs/urn_infinispan_config_5.1/complexType/configuration.clustering.async.html">&lt;async &#8230; &gt;</a> element for details). This would mean that an executor is <em>not</em> used when replicating, so you will never have a RejectedExecutionException . However this means each put() will take a little longer since marshalling will now happen on the critical path. The RPC is still async though as the thread won&#8217;t wait for a response from the recipient (fire-and-forget).</p> </li> </ul> </div> </div> </div> <div class="sect2"> <h3 id="sid-68355013"><a class="anchor" href="#sid-68355013"></a>4.18. JNDI FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68355014">Can I bind Cache or CacheManager to JNDI?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68355014"><a class="anchor" href="#sid-68355014"></a>4.18.1. Can I bind Cache or CacheManager to JNDI?</h4> <div class="literalblock"> <div class="content"> <pre>Cache or CacheManager can be bound to JNDI, but only to the java: namespace because they are not designed to be exported outside the Java Virtual Machine. In other words, you shouldn't expect that you'll be able to access them remotely by binding them to JNDI and downloading a remote proxy to them because neither Cache nor CacheManager are serializable.</pre> </div> </div> <div class="literalblock"> <div class="content"> <pre>To find an example on how to bind Cache or CacheManager to the java: namespace, simply check link:$$https://github.com/infinispan/infinispan/blob/master/core/src/test/java/org/infinispan/jndi/BindingTest.java$$[this unit test case] .</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68355015"><a class="anchor" href="#sid-68355015"></a>4.19. Hibernate 2nd Level Cache FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68355019">Can I use Infinispan as a remote JPA or Hibernate second level cache?</a></p> </li> <li> <p><a href="#sid-68355018">I&#8217;m adding the Infinispan 2nd level cache provider to existing servers that already use JGroups. Should I set Infinispan to use the same JGroups cluster, or should I use two separate cluster names?</a></p> </li> <li> <p><a href="#sid-68355016">Is it possible to use the Infinispan 2nd level cache outside of a J2EE server, and if so how do I set up the transaction manager lookup?</a></p> </li> <li> <p><a href="#sid-68355017">What are the pitfalls of not using a non-JTA transaction factory such as JDBCTransactionFactory with Hibernate when Infinispan is used as 2nd level cache provider?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68355019"><a class="anchor" href="#sid-68355019"></a>4.19.1. Can I use Infinispan as a remote JPA or Hibernate second level cache?</h4> <div class="literalblock"> <div class="content"> <pre>See link:$$https://docs.jboss.org/author/pages/viewpage.action?pageId=3737110$$[the reference guide] .</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68355018"><a class="anchor" href="#sid-68355018"></a>4.19.2. I&#8217;m adding the Infinispan 2nd level cache provider to existing servers that already use JGroups. Should I set Infinispan to use the same JGroups cluster, or should I use two separate cluster names?</h4> <div class="paragraph"> <p>TODO</p> </div> </div> <div class="sect3"> <h4 id="sid-68355016"><a class="anchor" href="#sid-68355016"></a>4.19.3. Is it possible to use the Infinispan 2nd level cache outside of a J2EE server, and if so how do I set up the transaction manager lookup?</h4> <div class="literalblock"> <div class="content"> <pre>link:$$https://docs.jboss.org/author/pages/viewpage.action?pageId=3737110$$[The reference guide] provides details on configuring a transaction manager outside of Java EE. link:$$https://docs.jboss.org/author/pages/viewpage.action?pageId=3737126$$[The reference guide] also provides details on how to use Atomikos, JTOM and Bitronix.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68355017"><a class="anchor" href="#sid-68355017"></a>4.19.4. What are the pitfalls of not using a non-JTA transaction factory such as JDBCTransactionFactory with Hibernate when Infinispan is used as 2nd level cache provider?</h4> <div class="literalblock"> <div class="content"> <pre>The problem is that Hibernate will create a Transaction instance via java.sql.Connection and Infinispan will create a transaction via whatever TransactionManager returned by hibernate.transaction.manager_lookup_class . If hibernate.transaction.manager_lookup_class has not been populated, it will default to the dummy transaction manager.</pre> </div> </div> <div class="paragraph"> <p>So, any work on the 2nd level cache will be done under a different transaction to the one used to commit the stuff to the database via Hibernate. In other words, your operations on the database and the 2LC are not treated as a single unit. Risks here include failures to update the 2LC leaving it with stale data while the database committed data correctly.</p> </div> </div> </div> <div class="sect2"> <h3 id="sid-68355020"><a class="anchor" href="#sid-68355020"></a>4.20. Cache Server FAQs</h3> <div class="ulist"> <ul> <li> <p><a href="#sid-68355021">After running a Hot Rod server for a while, I get a NullPointerException in HotRodEncoder.getTopologyResponse(), how can I get around it?</a></p> </li> <li> <p><a href="#sid-68355023">Is there a way to do a Bulk Get on a remote cache?</a></p> </li> <li> <p><a href="#sid-68355022">What is the startServer.sh script used for? What is the startServer.bat script used for?</a></p> </li> </ul> </div> <div class="sect3"> <h4 id="sid-68355021"><a class="anchor" href="#sid-68355021"></a>4.20.1. After running a Hot Rod server for a while, I get a NullPointerException in HotRodEncoder.getTopologyResponse(), how can I get around it?</h4> <div class="literalblock"> <div class="content"> <pre>This is a bug (see link:$$https://jira.jboss.org/browse/ISPN-669$$[ISPN-669] ) in the Hot Rod code where we didn't specifically set the topology cache to have no eviction and no expiration. So, if someone configured the default cache in the Infinispan configuration file for Hot Rod with expiration or eviction, the topology cache would end up having those capabilities and the topology view could after a while be removed from memory. To get around this issue either:</pre> </div> </div> <div class="ulist"> <ul> <li> <p>Avoid having expiration and eviction on for the default cache.</p> </li> <li> <p>Or, make sure you create a namedCache for ___hotRodTopologyCache with sync replication, state transfer, no expiration and no eviction.</p> </li> </ul> </div> </div> <div class="sect3"> <h4 id="sid-68355023"><a class="anchor" href="#sid-68355023"></a>4.20.2. Is there a way to do a Bulk Get on a remote cache?</h4> <div class="literalblock"> <div class="content"> <pre>There's no bulk get operation in Hot Rod, but the Java Hot Rod client has implemented via link:$$http://docs.jboss.org/infinispan/5.1/apidocs/org/infinispan/client/hotrod/RemoteCache.html$$[RemoteCache] the getAsync() operation, which returns a link:$$http://docs.jboss.org/infinispan/5.1/apidocs/org/infinispan/util/concurrent/NotifyingFuture.html$$[org.infinispan.util.concurrent.NotifyingFuture] (extends java.util.concurrent.Future). So, if you want to retrieve multiple keys in parallel, just call multiple times _getAsync()_ and when you need the values, just call _Future.get()_ , or attach a link:$$http://docs.jboss.org/infinispan/5.1/apidocs/org/infinispan/util/concurrent/FutureListener.html$$[ _FutureListener_ ] to the _NotifyingFuture_ to get notified when the value is ready.</pre> </div> </div> </div> <div class="sect3"> <h4 id="sid-68355022"><a class="anchor" href="#sid-68355022"></a>4.20.3. What is the startServer.sh script used for? What is the startServer.bat script used for?</h4> <div class="literalblock"> <div class="content"> <pre>These scripts are used for starting Infinispan server instances that can be talked to remotely using either our own link:$$https://docs.jboss.org/author/pages/viewpage.action?pageId=9470083$$[Hot Rod protocol] or the link:$$http://github.com/trondn/memcached/blob/master/doc/protocol.txt$$[Memcached text protocol] . See link:$$https://docs.jboss.org/author/pages/viewpage.action?pageId=3737146$$[Using Hot Rod Server and Client] and link:$$https://docs.jboss.org/author/pages/viewpage.action?pageId=3737037$$[Using Infinispan Memcached server] wikis for more information on the usage of these scripts.</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68355024"><a class="anchor" href="#sid-68355024"></a>4.21. Debugging FAQs</h3> <div class="sect3"> <h4 id="sid-68355025"><a class="anchor" href="#sid-68355025"></a>4.21.1. How can I get Infinispan to show the full byte array? The log only shows partial contents of byte arrays&#8230;</h4> <div class="literalblock"> <div class="content"> <pre>Since version 4.1, whenever Infinispan needs to print byte arrays to logs, these are partially printed in order to avoid unnecessarily printing potentially big byte arrays. This happens in situations where either, Infinispan caches have been configured with lazy deserialization, or your running an Memcached or Hot Rod server. So in these cases, only the first 10 positions of the byte array are shown in the logs. If you want Infinispan to show the full byte array in the logs, simply pass the -Dinfinispan.arrays.debug=true system property at startup. In the future, this might be controllable at runtime via a JMX call or similar.</pre> </div> </div> <div class="paragraph"> <p>Here&#8217;s an example of log message with a partially displayed byte array:</p> </div> <div class="listingblock"> <div class="content"> <pre>
2010-04-14 15:46:09,342 TRACE [ReadCommittedEntry] (HotRodWorker-1-1) Updating entry
(key=CacheKey{data=ByteArray{size=19, hashCode=1b3278a,
array=[107, 45, 116, 101, 115, 116, 82, 101, 112, 108, ..]}}
removed=false valid=true changed=true created=true value=CacheValue{data=ByteArray{size=19,
array=[118, 45, 116, 101, 115, 116, 82, 101, 112, 108, ..]},
version=281483566645249}]</pre> </div> </div> <div class="paragraph"> <p>And here&#8217;s a log message where the full byte array is shown:</p> </div> <div class="listingblock"> <div class="content"> <pre>2010-04-14 15:45:00,723 TRACE [ReadCommittedEntry] (Incoming-2,Infinispan-Cluster,eq-6834) Updating entry
(key=CacheKey{data=ByteArray{size=19, hashCode=6cc2a4,
array=[107, 45, 116, 101, 115, 116, 82, 101, 112, 108, 105, 99, 97, 116, 101, 100, 80, 117, 116]}}
removed=false valid=true changed=true created=true value=CacheValue{data=ByteArray{size=19,
array=[118, 45, 116, 101, 115, 116, 82, 101, 112, 108, 105, 99, 97, 116, 101, 100, 80, 117, 116]},
version=281483566645249}]
</pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="sid-68355026"><a class="anchor" href="#sid-68355026"></a>4.22. Clustering Transport FAQs</h3> <div class="sect3"> <h4 id="sid-68355027"><a class="anchor" href="#sid-68355027"></a>4.22.1. How do I retrieve the clustering physical address?</h4> <div class="literalblock"> <div class="content"> <pre>You can retrieve the physical address via AdvancedCache.getRpcManager().getTransport(). link:$$http://docs.jboss.org/infinispan/5.0/apidocs/org/infinispan/remoting/transport/Transport.html#getPhysicalAddresses$$[getPhysicalAddresses()]</pre> </div> </div> </div> </div> </div> </div> </div> <div id="footer"> <div id="footer-text"> Last updated 2013-09-11 20:22:42 BST </div> </div> </body> </html>